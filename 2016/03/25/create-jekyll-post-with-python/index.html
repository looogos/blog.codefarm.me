<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Create Jekyll Post with Python | CODE FARM</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Create Jekyll Post with Python" />
<meta property="og:locale" content="en" />
<meta name="description" content="Jekyll-post.py #!/usr/bin/env python # -*- encoding:utf-8 -*- # The MIT License (MIT) # # Copyright (c) 2016 Roy Xu import argparse import time import uuid def main(): parser = argparse.ArgumentParser(description=&#39;Jekyll Post&#39;) parser.add_argument(&#39;title&#39;, help=&#39;The title of the post.&#39;) parser.add_argument(&#39;category&#39;, help=&#39;The categores of the post.&#39;) parser.add_argument(&#39;--tag&#39;, help=&#39;The tags of the post.&#39;) args = parser.parse_args() title = args.title categories = args.category tags = args.tag if args.tag else args.category name, date = time.strftime(&#39;%Y-%m-%d&#39;) + &#39;-&#39; + title.replace(&#39; &#39;,&#39;-&#39;) + &#39;.md&#39;, time.strftime(&#39;%Y-%m-%d %H-%M-%S %z&#39;) disqus_identifier = uuid.uuid4().int yaml = &#39;&#39;&#39;--- layout: post title: &quot;%s&quot; date: %s categories: %s tags: %s disqus_identifier: %d ---&#39;&#39;&#39; post = yaml % (title, date, categories, tags, disqus_identifier) fp = None try: fp = open(name, &#39;w&#39;) fp.write(post) finally: if fp: fp.close() if __name__ == &#39;__main__&#39;: main() Usage $ python jekyll-post.py &quot;foo bar&quot; &quot;[&#39;hello&#39;,&#39;world&#39;]&quot; $ cat 2016-03-29-foo-bar.md --- layout: post title: &quot;foo bar&quot; date: 2016-03-29 19-39-52 +0800 categories: [&#39;hello&#39;,&#39;world&#39;] tags: [&#39;hello&#39;,&#39;world&#39;] disqus_identifier: 199975908006844180551570514566123396410 ---" />
<meta property="og:description" content="Jekyll-post.py #!/usr/bin/env python # -*- encoding:utf-8 -*- # The MIT License (MIT) # # Copyright (c) 2016 Roy Xu import argparse import time import uuid def main(): parser = argparse.ArgumentParser(description=&#39;Jekyll Post&#39;) parser.add_argument(&#39;title&#39;, help=&#39;The title of the post.&#39;) parser.add_argument(&#39;category&#39;, help=&#39;The categores of the post.&#39;) parser.add_argument(&#39;--tag&#39;, help=&#39;The tags of the post.&#39;) args = parser.parse_args() title = args.title categories = args.category tags = args.tag if args.tag else args.category name, date = time.strftime(&#39;%Y-%m-%d&#39;) + &#39;-&#39; + title.replace(&#39; &#39;,&#39;-&#39;) + &#39;.md&#39;, time.strftime(&#39;%Y-%m-%d %H-%M-%S %z&#39;) disqus_identifier = uuid.uuid4().int yaml = &#39;&#39;&#39;--- layout: post title: &quot;%s&quot; date: %s categories: %s tags: %s disqus_identifier: %d ---&#39;&#39;&#39; post = yaml % (title, date, categories, tags, disqus_identifier) fp = None try: fp = open(name, &#39;w&#39;) fp.write(post) finally: if fp: fp.close() if __name__ == &#39;__main__&#39;: main() Usage $ python jekyll-post.py &quot;foo bar&quot; &quot;[&#39;hello&#39;,&#39;world&#39;]&quot; $ cat 2016-03-29-foo-bar.md --- layout: post title: &quot;foo bar&quot; date: 2016-03-29 19-39-52 +0800 categories: [&#39;hello&#39;,&#39;world&#39;] tags: [&#39;hello&#39;,&#39;world&#39;] disqus_identifier: 199975908006844180551570514566123396410 ---" />
<link rel="canonical" href="https://blog.codefarm.me/2016/03/25/create-jekyll-post-with-python/" />
<meta property="og:url" content="https://blog.codefarm.me/2016/03/25/create-jekyll-post-with-python/" />
<meta property="og:site_name" content="CODE FARM" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-03-25T15:43:01+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Create Jekyll Post with Python" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2016-03-25T15:43:01+08:00","datePublished":"2016-03-25T15:43:01+08:00","description":"Jekyll-post.py #!/usr/bin/env python # -*- encoding:utf-8 -*- # The MIT License (MIT) # # Copyright (c) 2016 Roy Xu import argparse import time import uuid def main(): parser = argparse.ArgumentParser(description=&#39;Jekyll Post&#39;) parser.add_argument(&#39;title&#39;, help=&#39;The title of the post.&#39;) parser.add_argument(&#39;category&#39;, help=&#39;The categores of the post.&#39;) parser.add_argument(&#39;--tag&#39;, help=&#39;The tags of the post.&#39;) args = parser.parse_args() title = args.title categories = args.category tags = args.tag if args.tag else args.category name, date = time.strftime(&#39;%Y-%m-%d&#39;) + &#39;-&#39; + title.replace(&#39; &#39;,&#39;-&#39;) + &#39;.md&#39;, time.strftime(&#39;%Y-%m-%d %H-%M-%S %z&#39;) disqus_identifier = uuid.uuid4().int yaml = &#39;&#39;&#39;--- layout: post title: &quot;%s&quot; date: %s categories: %s tags: %s disqus_identifier: %d ---&#39;&#39;&#39; post = yaml % (title, date, categories, tags, disqus_identifier) fp = None try: fp = open(name, &#39;w&#39;) fp.write(post) finally: if fp: fp.close() if __name__ == &#39;__main__&#39;: main() Usage $ python jekyll-post.py &quot;foo bar&quot; &quot;[&#39;hello&#39;,&#39;world&#39;]&quot; $ cat 2016-03-29-foo-bar.md --- layout: post title: &quot;foo bar&quot; date: 2016-03-29 19-39-52 +0800 categories: [&#39;hello&#39;,&#39;world&#39;] tags: [&#39;hello&#39;,&#39;world&#39;] disqus_identifier: 199975908006844180551570514566123396410 ---","headline":"Create Jekyll Post with Python","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.codefarm.me/2016/03/25/create-jekyll-post-with-python/"},"url":"https://blog.codefarm.me/2016/03/25/create-jekyll-post-with-python/"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/style.css"><!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SN88FJ18E5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-SN88FJ18E5');
    </script></head>
  <body>
    <header class="c-header">
  <div class="o-container">
    <a class="c-header-title" href="/">CODE FARM</a>
    <button class="c-header-nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
      <span class="c-header-nav-toggle-icon"></span>
    </button>
    <div class="c-header-nav-wrapper" id="nav-wrapper">
      <nav class="c-header-nav">
        <a href="/">Home</a>
        <a href="/categories/">Category</a>
        <a href="/tags/">Tag</a>
        <a href="/archives/">Archive</a>
        <a href="/about/">About</a>
        <a href="https://resume.github.io/?looogos" target="_blank">R&eacute;sum&eacute;</a>
      </nav>
    </div>
  </div>
  



<div class="o-container">
  <div class="c-banner">
    <img src="/assets/images/galaxy.svg" alt="Galaxy background" class="c-banner-bg">
    <div class="c-banner-quote">
      <p>"The Renaissance was a time when art, science, and philosophy flourished."</p>
      <cite>- Michelangelo</cite>
    </div>
  </div>
</div>
</header>

    <main class="o-container">
      <article class="c-post">
  <header class="c-post-header">
    <h1 class="c-post-title">Create Jekyll Post with Python</h1><p class="c-post-meta">25 Mar 2016</p>
  </header>

  <div class="c-post-content">
    <p><em>Jekyll-post.py</em></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#!/usr/bin/env python
# -*- encoding:utf-8 -*-
</span>
<span class="c1"># The MIT License (MIT)
#
# Copyright (c) 2016 Roy Xu
</span>
<span class="kn">import</span> <span class="n">argparse</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">uuid</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="sh">'</span><span class="s">Jekyll Post</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">title</span><span class="sh">'</span><span class="p">,</span> <span class="nb">help</span><span class="o">=</span><span class="sh">'</span><span class="s">The title of the post.</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">category</span><span class="sh">'</span><span class="p">,</span> <span class="nb">help</span><span class="o">=</span><span class="sh">'</span><span class="s">The categores of the post.</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--tag</span><span class="sh">'</span><span class="p">,</span> <span class="nb">help</span><span class="o">=</span><span class="sh">'</span><span class="s">The tags of the post.</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
    
    <span class="n">title</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">title</span>
    <span class="n">categories</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">category</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">tag</span> <span class="k">if</span> <span class="n">args</span><span class="p">.</span><span class="n">tag</span> <span class="k">else</span> <span class="n">args</span><span class="p">.</span><span class="n">category</span>

    <span class="n">name</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">'</span><span class="s">%Y-%m-%d</span><span class="sh">'</span><span class="p">)</span> <span class="o">+</span> <span class="sh">'</span><span class="s">-</span><span class="sh">'</span> <span class="o">+</span> <span class="n">title</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">'</span><span class="s"> </span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">-</span><span class="sh">'</span><span class="p">)</span> <span class="o">+</span> <span class="sh">'</span><span class="s">.md</span><span class="sh">'</span><span class="p">,</span> <span class="n">time</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">'</span><span class="s">%Y-%m-%d %H-%M-%S %z</span><span class="sh">'</span><span class="p">)</span>

    <span class="n">disqus_identifier</span> <span class="o">=</span> <span class="n">uuid</span><span class="p">.</span><span class="nf">uuid4</span><span class="p">().</span><span class="nb">int</span>

    <span class="n">yaml</span> <span class="o">=</span> <span class="sh">'''</span><span class="s">---
layout: post
title: </span><span class="sh">"</span><span class="s">%s</span><span class="sh">"</span><span class="s">
date: %s
categories: %s
tags: %s
disqus_identifier: %d
---</span><span class="sh">'''</span>
    <span class="n">post</span> <span class="o">=</span> <span class="n">yaml</span> <span class="o">%</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">categories</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">disqus_identifier</span><span class="p">)</span>
    <span class="n">fp</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">fp</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">fp</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">post</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">fp</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span></code></pre></figure>

<p><em>Usage</em></p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nv">$ </span>python jekyll-post.py <span class="s2">"foo bar"</span> <span class="s2">"['hello','world']"</span>
<span class="nv">$ </span><span class="nb">cat </span>2016-03-29-foo-bar.md 
<span class="nt">---</span>
layout: post
title: <span class="s2">"foo bar"</span>
<span class="nb">date</span>: 2016-03-29 19-39-52 +0800
categories: <span class="o">[</span><span class="s1">'hello'</span>,<span class="s1">'world'</span><span class="o">]</span>
tags: <span class="o">[</span><span class="s1">'hello'</span>,<span class="s1">'world'</span><span class="o">]</span>
disqus_identifier: 199975908006844180551570514566123396410
<span class="nt">---</span></code></pre></figure>


<style>
  .utterances {
      max-width: 100%;
  }
</style>
<script src="https://utteranc.es/client.js"
        repo="looogos/utterances"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

</div>
</article>
    </main>
    <footer class="c-footer">
  <div class="c-footer-license">
    <span>Article licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></span>
  </div>
  
  <details class="c-footer-extralinks" open>
    <summary class="c-footer-extralinks-summary">Extral Links</summary>
    <div class="c-footer-extralinks-content">
      
      <a href="https://jekyllrb.com/">Jekyll</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://shopify.github.io/liquid/">Liquid</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://docs.asciidoctor.org/">Asciidoctor</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://github.com/qqbuby/">GitHub</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="/feed.xml">RSS</a>
      
      
    </div>
  </details>
  
</footer>

    <script src="/assets/js/nav.js" defer></script>
    <script src="/assets/js/heading-anchors.js" defer></script>
    <!-- https://cdn.jsdelivr.net/gh/lurongkai/anti-baidu/js/anti-baidu-latest.min.js -->    
    <script type="text/javascript" src="/js/anti-baidu.min.js" charset="UTF-8"></script>
  </body>
</html>
