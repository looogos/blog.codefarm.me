<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Introduction to Linux | CODE FARM</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Introduction to Linux" />
<meta property="og:locale" content="en" />
<meta name="description" content="1. Multics/Unix 2. BSD &amp; System Ⅴ &amp; Mach 3. Unix philosophy 4. GNU/Linux/Linux distribution 5. Debian on VM 5.1. Oracle VirtualBox/VMware Player 5.2. APT: Advanced Package Tool 5.3. Shell/SSH/Putty/Xshell 5.4. Bash -GNU Bourne-Again SHell 5.5. File/File System 5.6. Process 5.7. User/Group 5.8. File System Permissions 5.9. Signal (IPC=Inter-process communication) 5.10. Standard IO/Pipeline 5.11. Vim: God of the text editors / Emacs: a text editor of the Gods 6. Network Configuration 1. Multics/Unix Multics an influential early time-sharing operating system MIT, GE, Bell Labs Unix Ken Thompson The designer and implementer of the original Unix Since 2006, Thompson has worked at Google, where he co-invented the Go programming language. C and Unix Dennis Ritchie: the creator of the C programming language In 1972, Unix was rewritten in the higher-level language C Ritchie was found dead on October 12, 2011, at the age of 70 at his home in Berkeley Heights, New Jersey, where he lived alone. First news of his death came from his former colleague, Rob Pike. The cause and exact time of death have not been disclosed. re: https://en.wikipedia.org/wiki/Multics re: https://en.wikipedia.org/wiki/History_of_Unix re: https://en.wikipedia.org/wiki/Ken_Thompson re: https://en.wikipedia.org/wiki/Dennis_Ritchie#C_and_Unix 2. BSD &amp; System Ⅴ &amp; Mach BSD: Berkeley Software Distribution A branch of Unix, Berkeley Unix FreeBSD, OpenBSD, NetBSD Darwin, macOS, iOS, watchOS, tvOS System Ⅴ Solaris Mach microkernel Berkeley sockets Bill Joy &amp; Chuck Haley vi text editor Sun Microsystems, Inc Java programming language Linux: I&#8217;m coming &#8230;&#8203; re: https://en.wikipedia.org/wiki/Berkeley_Software_Distribution re: https://en.wikipedia.org/wiki/History_of_the_Berkeley_Software_Distribution re: https://en.wikipedia.org/wiki/UNIX_System_V re: https://en.wikipedia.org/wiki/Berkeley_sockets 3. Unix philosophy The Unix philosophy, originated by Ken Thompson, is a set of cultural norms and philosophical approaches to minimalist, modular software development. The Unix philosophy favors composability as opposed to monolithic design. Peter H. Salusin A Quarter-Century of Unix (1994): Write programs that do one thing and do it well. Write programs to work together. Write programs to handle text streams, because that is a universal interface. re: https://en.wikipedia.org/wiki/Unix_philosophy 4. GNU/Linux/Linux distribution Debian (/ˈdɛbiən/) (community-supported) Debian-based Ubuntu (/ʊˈbʊntuː/ (Desktop, Server, IoT) Red Hat Linux RPM-based Fedora Linux (community-supported) CentOS Stream Red Hat Enterprise Linux (RHEL, commercial open-source Linux distribution) Amazon Linux 2 Oracle Linux (OL, formerly known as Oracle Enterprise Linux or OEL) CentOS (community-supported, EOL!) Rocky Linux SUSE Linux RPM-based openSUSE (/ˈsuːsə, ˈsuːzə/) (community-supported) SUSE Linux Enterprise (SLE) SUSE Linux Enterprise Server (SLES, servers and mainframes) SUSE Linux Enterprise Desktop (SLED, desktop for workstations and desktop computers) Arch Linux Pacman-based Asahi Linux Android HarmonyOS re: https://en.wikipedia.org/wiki/Linux re: https://wiki.linuxquestions.org/wiki/Distribution re: https://en.wikipedia.org/wiki/Linux_distribution re: https://en.wikipedia.org/wiki/List_of_Linux_distributions re: https://en.wikipedia.org/wiki/Comparison_of_Linux_distributions 5. Debian on VM 5.1. Oracle VirtualBox/VMware Player Download VirtualBox: https://www.virtualbox.org/wiki/Downloads Download VMware Workstation Player: https://my.vmware.com/en/web/vmware/free#desktop_end_user_computing/vmware_workstation_player/12_0 Getting Debian: https://www.debian.org/distrib/ https://www.debian.org/mirror/list Download CentOS: https://www.centos.org/download/ https://www.centos.org/download/mirrors/ 5.2. APT: Advanced Package Tool # apt-get update # yum makecache Hit:1 https://deb.nodesource.com/node_8.x stretch InRelease Hit:2 https://download.docker.com/linux/debian stretch InRelease ... Reading package lists... Done # apt-cache search nginx # yum search nginx-small, powerful, scalable web/proxy server # apt-cache madison nginx # yum --showduplicates search nginx nginx| 1.13.3-1~bpo9+1 | http://mirrors.163.com/debian stretch-backports/main amd64 Packages nginx| 1.10.3-1+deb9u1 | http://mirrors.163.com/debian stretch/main amd64 Packages # apt-get install nginx # yum install nginx Reading package lists... Done Building dependency tree Reading state information... Done The following additional packages will be installed: ... apt-get update -&gt; apt update apt-get upgrade -&gt; apt upgrade apt-get dist-upgrade -&gt; apt full-upgrade apt-get install package -&gt; apt install package apt-get remove package -&gt; apt remove package apt-get autoremove -&gt; apt autoremove apt-cache search string -&gt; apt search string apt-cache policy package -&gt; apt list -a package apt-cache show package -&gt; apt show package apt-cache showpkg package -&gt; apt show -a package re: Debian package management, https://www.debian.org/doc/manuals/debian-reference/ch02.en.html re: Basics of the Debian package management system, https://www.debian.org/doc/manuals/debian-faq/pkg-basics.en.html re: The Debian package management tools, https://www.debian.org/doc/manuals/debian-faq/pkgtools.en.html re: https://en.wikipedia.org/wiki/APT_(Debian) 5.3. Shell/SSH/Putty/Xshell $ touch hello.sh $ cat &lt;&lt;EOF &gt; #!/bin/bash &gt; &gt; echo &quot;Hello GNU/Linux!&quot; &gt; EOF #!/bin/bash echo &quot;Hello GNU/Linux!&quot; $ /bin/bash hello.sh Hello GNU/Linux! $ chmod +x hello.sh $ ./hello.sh Hello GNU/Linux! $ re: https://en.wikipedia.org/wiki/Unix_shell re: https://en.wikipedia.org/wiki/Bash_(Unix_shell) re: https://en.wikipedia.org/wiki/Secure_Shell 5.4. Bash -GNU Bourne-Again SHell Bash is an sh-compatible command language interpreter that executes commands read from the standard input or from a file. Bash also incorporates useful features from the Kornand C shells (ksh and csh). A login shell is one whose first character of argument zero is a -, or one started with the --login option. An interactive shell is one started without non-option arguments (unless -s is specified) and without the -c option whose standard input and error are both connected to terminals (as determined by isatty(3)), or one started with the -i option. PS1 is set and $- includes i if bash is interactive, allowing a shell script or a startup file to test this state. When you log in on a text console, or through SSH, or with su -, you get an interactive login shell. When you start a shell in a terminal in an existing session (screen, X terminal, Emacsterminal buffer, a shell inside another, etc.), you get an interactive, non-login shell. Table 1. Bash Startup Files login non-login interactive /etc/profile ~/.bash_profile ~/.bash_login ~/.profile ~/.bashrc non-interactive /etc/profile ~/.bash_profile ~/.bash_login ~/.profile if [-n &quot;$BASH_ENV&quot; ]; then . &quot;$BASH_ENV&quot;; fi if [-n &quot;$BASH_ENV&quot; ]; then . &quot;$BASH_ENV&quot;; fi Typically, the ~/.bash_profile contains the line: if [ -f ~/.bashrc ]; then . ~ ~/.bashrc; fi. re: https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html re: https://unix.stackexchange.com/questions/38175/difference-between-login-shell-and-non-login-shell re: https://askubuntu.com/questions/879364/differentiate-interactive-login-and-non-interactive-non-login-shell Subshell A subshell is a child process (fork-exec) launched by a shell (or shell script). The source command can be used to load any functions file into the current shell script or a command prompt. $ cat hello.sh #!/bin/bash greeting=&quot;Hello GNU/Linux!&quot; $ ./hello.sh $ echo $greeting ... $ . ./hello.sh # source ./hello.sh $ echo $greeting Hello GNU/Linux! re: https://en.wikipedia.org/wiki/Fork%E2%80%93exec re: https://en.wikibooks.org/wiki/A_Quick_Introduction_to_Unix/Shells_and_subshells re: http://www.tldp.org/LDP/abs/html/subshells.html ENVIRONMENT When a program is invoked it is given an array of strings called the environment. This is a list of name-value pairs, of the form name=value. The shell provides several ways to manipulate the environment. On invocation, the shell scans its own environment and creates a parameter for each name found, automatically marking it for export to child processes. Executed commands inherit the environment. The export and declare -x commands allow parameters and functions to be added to and deleted from the environment. If the value of a parameter in the environment is modified, the new value becomes part of the environment, replacing the old. The environment inherited by any executed command consists of the shell&#8217;s initial environment, whose values may be modified in the shell, less any pairs removed by the unset command, plus any additions via the export and declare -x commands. $ greeting=&quot;Hello GNU/Linux!&quot; $ echo $greeting Hello GNU/Linux! $ vi hello.sh $ cat hello.sh #!/bin/bash echo $greeting $ ./hello.sh $ export greeting $ ./hello.sh Hello GNU/Linux! 5.5. File/File System &quot;On a UNIX system, everything is a file; if something is not a file, it is a process.&quot; Sorts of files - Regular file d Directory l Link c Character device s Socket p Named pipe b Block device # mkdir mydir # touch myfile # ln -sf myfile mylink # ls -l total 4 drwxr-xr-x 2 root root 4096 Sep 10 17:10 mydir -rw-r--r-- 1 root root 0 Sep 10 17:10 myfile lrwxrwxrwx 1 root root 6 Sep 10 17:10 mylink-&gt; myfile # ls -l /var/run/*.sock srw-rw---- 1 root docker 0 Sep 10 11:01 /var/run/docker.sock # ls -l /dev/sda1 brw-rw---- 1 root disk 8, 1 Sep 10 11:01 /dev/sda1 # ls -l /dev/tty1 crw--w---- 1 root tty 4, 1 Sep 10 11:01 /dev/tty1 /tmp$ df -h Filesystem Size Used Avail Use% Mounted on udev 986M 0 986M 0% /dev tmpfs 200M 6.1M 194M 4% /run /dev/sda1 19G 9.9G 7.9G 56% / tmpfs 998M 0 998M 0% /dev/shm tmpfs 5.0M 0 5.0M 0% /run/lock tmpfs 998M 0 998M 0% /sys/fs/cgroup tmpfs 200M 0 200M 0% /run/user/1000 /tmp$ df . -h Filesystem Size Used Avail Use% Mounted on /dev/sda1 19G 9.9G 7.9G 56% / /tmp$ touch foobar /tmp$ ls -li foobar 262826 - rw-r--r-- 1 x x 0 Sep 11 21:01 foobar /tmp# mkdir mydir # make a directory /tmp# cd mydir/ # change to mydir/ /tmp/mydir# pwd # print the work directory /tmp/mydir /tmp/mydir# touch myfile # make a file /tmp/mydir# ls # list the currentydirectory contents myfile /tmp/mydir# mv myfile myfile2 # rename myfileto myfile2 /tmp/mydir# rm myfile2 # remove myfile2 /tmp/mydir# cd .. # change to parent dir /tmp# rm -r mydir/ # remove mydir /tmp# ls /tmp# /tmp# cat &lt;&lt;EOF &gt; foo &gt; Hello GNU/Linux! &gt; EOF /tmp# cat foo Hello GNU/Linux! /tmp# cp foo bar # copy foo to bar /tmp# ls bar foo /tmp# cat bar Hello GNU/Linux! /tmp# mkdir mydir /tmp# mv foo bar mydir/ # move foo bar to mydir/ /tmp# ls mydir /tmp# cp -a mydir/ mydir2 # copy mydir/ to mydir2 /tmp# ls mydir mydir2 /tmp# cat &lt;&lt;EOF &gt; hello.sh &gt; #!/bin/bash &gt; echo &quot;Hello GNU/Linux!&quot; &gt; EOF /tmp# ls -l total 4 -rw-r--r-- 1 root root 36 Sep 10 17:34 hello.sh /tmp# chmod +x hello.sh /tmp# ls -l total 4 -rwxr-xr-x 1 root root 36 Sep 10 17:34 hello.sh /tmp# ./hello.sh Hello GNU/Linux! /tmp# stat -c &quot;%a&quot; hello.sh 755 /tmp# chmod 777 hello.sh /tmp# ls -l total 4 -rwxrwxrwx 1 root root 36 Sep 10 17:34 hello.sh /tmp# tail -n 1 hello.sh echo &quot;Hello GNU/Linux!&quot; /tmp# head -n 1 hello.sh #!/bin/bash /tmp# cat hello.sh #!/bin/bash echo &quot;Hello GNU/Linux!&quot; /bin Common programs, shared by the system, the system administrator and the users. /boot The startup files and the kernel, vmlinuz. /dev Contains references to all the CPU peripheral hardware, which are represented as files with special properties. /etc Most important system configuration files are in /etc, this directory contains data similar to those in the Control Panel in Windows /home Home directories of the common users. /lib Library files, includes files for all kinds of programs needed by the system and the users. /mnt Standard mount point for external file systems, e.g. a CD-ROM or a digital camera. /opt Typically contains extra and third party software. /proc A virtual file system containing information about system resources. /root The administrative user&#39;s home directory. /sbin Programs for use by the system and the system administrator. /tmp Temporary space for use by the system, cleaned upon reboot, so don&#39;t use this for saving any work! /usr Programs, libraries, documentation etc. for all user-related programs. /var Storage for all variable files and temporary files created by. re: http://www.tldp.org/LDP/intro-linux/html/sect_03_01.html re: https://en.wikipedia.org/wiki/File_system 5.6. Process $ ps -f -C nginx UID PID PPID C STIME TTY TIME CMD root 3972 3957 1 16:18 ? 00:00:00 nginx: master process nginx -g daemon off; systemd+ 4012 3972 0 16:18 ? 00:00:00 nginx: worker process $ ps aux|grep nginx root 3972 0.3 0.2 32424 4872 ? Ss 16:18 0:00 nginx: master process nginx -g daemon off; systemd+ 4012 0.0 0.1 32912 2492 ? S 16:18 0:00 nginx: worker process x 4026 0.0 0.0 12784 948 pts/2 S+ 16:19 0:00 grep --color=auto nginx $ ps -f -u www-data UID PID PPID C STIME TTY TIME CMD www-data 6631 6630 0 21:43 ? 00:00:00 nginx: worker process www-data 6632 6630 0 21:43 ? 00:00:00 nginx: worker process $ pstree -p systemd(1)─┬─acpid(422) ├─agetty(435) ├─cron(354) ├─dbus-daemon(360) ├─dhclient(477) ├─irqbalance(358) ├─ntpd(446)───{ntpd}(455) ├─rsyslogd(359)─┬─{in:imklog}(403) │ ├─{in:imuxsock}(402) │ └─{rs:main Q:Reg}(404) ├─sshd(353)───sshd(1360)───sshd(1369)───bash(1370)───pstree(3168) ├─systemd(1362)───(sd-pam)(1363) ├─systemd-journal(197) ├─systemd-logind(417) └─systemd-udevd(211) # pstree -p init(1)─┬─acpid(2155) ├─auditd(2052)─┬─audispd(2054)───{audispd}(2055) │ └─{auditd}(2053) ├─dhclient(2001) ├─events/0(4) ├─klogd(2087) ├─ksoftirqd/0(3) ├─kthread(6)─┬─aio/0(245) │ ├─ata/0(498) ├─smartd(2338) ├─sshd(2244)───sshd(2395)───sshd(2402)───bash(2403)───su(2435)───bash(2436)───pstree(2519) ├─syslogd(2084) └─udevd(575) 5.7. User/Group $ touch foo $ sudo touch bar $ ls -l total 0 -rw-r--r-- 1 root root 0 Sep 11 21:57 bar -rw-r--r-- 1 x x 0 Sep 11 21:57 foo $ chown x bar chown: changing ownership of &#39;bar&#39;: Operation not permitted $ sudo chown x bar $ ls -l total 0 -rw-r--r-- 1 x root 0 Sep 11 21:57 bar -rw-r--r-- 1 x x 0 Sep 11 21:57 foo $ sudo chgrp x bar $ ls -l total 0 -rw-r--r-- 1 x x 0 Sep 11 21:57 bar -rw-r--r-- 1 x x 0 Sep 11 21:57 foo$ $ ps -f -C nginx,ps UID PID PPID C STIME TTY TIME CMD root 6630 1 0 21:43 ? 00:00:00 nginx: master process nginx www-data 6631 6630 0 21:43 ? 00:00:00 nginx: worker process www-data 6632 6630 0 21:43 ? 00:00:00 nginx: worker process x 6872 3315 0 22:02 pts/1 00:00:00 ps -f -C nginx,ps $ sudo touch foobar [sudo] password for x: $ echo &#39;Hello GNU/Linux!&#39; &gt; foobar -bash: foobar: Permission denied $ ls -l foobar -rw-r--r-- 1 root root 0 Sep 12 13:56 foobar $ su Password: # echo &#39;Hello GNU/Linux!&#39; &gt; foobar # exit exit $ id uid=1000(x) gid=1000(x) groups=1000(x),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),108(netdev),999(docker) $ sudo grep &#39;%sudo&#39; /etc/sudoers %sudo ALL=(ALL:ALL) ALL$ ~# cd ~xianyu -su: cd: ~xianyu: No such file or directory ~# useradd -s /bin/bash -u 2000 -c &quot;Hello GNU/Linux!&quot; -m xianyu ~# cd ~xianyu/ /home/xianyu# grep &#39;xianyu&#39; /etc/passwd xianyu:x:2000:2000:Hello GNU/Linux!:/home/xianyu:/bin/bash /home/xianyu# id xianyu uid=2000(xianyu) gid=2000(xianyu) groups=2000(xianyu) /home/xianyu# su - xianyu ~$ pwd /home/xianyu ~$ exit logout /home/xianyu# cd ~# userdel -r xianyu userdel: xianyu mail spool (/var/mail/xianyu) not found ~# cd ~xianyu -su: cd: ~xianyu: No such file or directory 5.8. File System Permissions Symbolic Notation Numeric Notation English ---------- 0000 no permissions -rwx------ 0700 read, write, &amp; execute only for owner -rwxrwx--- 0770 read, write, &amp; execute for owner and group -rwxrwxrwx 0777 read, write, &amp; execute for owner, group and others SECURITY RISK ---x--x--x 0111 execute --w--w--w- 0222 write --wx-wx-wx 0333 write &amp; execute -r--r--r-- 0444 read -r-xr-xr-x 0555 read &amp; execute -rw-rw-rw- 0666 read &amp; write -rwxr----- 0740 owner can read, write, &amp; execute; group can only read; others have no permissions re: https://en.wikipedia.org/wiki/File_system_permissions re: https://en.wikipedia.org/wiki/Umask 5.9. Signal (IPC=Inter-process communication) $ kill -l 1) SIGHUP 2) SIGINT(Ctrl-C) 3) SIGQUIT(Ctrl-\) 4) SIGILL 5) SIGTRAP 6) SIGABRT 7) SIGBUS 8) SIGFPE 9) SIGKILL 10) SIGUSR1 11) SIGSEGV 12) SIGUSR2 13) SIGPIPE 14) SIGALRM 15) SIGTERM 16) SIGSTKFLT 17) SIGCHLD 18) SIGCONT 19) SIGSTOP(Ctrl-Z) 20) SIGTSTP 21) SIGTTIN 22) SIGTTOU 23) SIGURG 24) SIGXCPU 25) SIGXFSZ 26) SIGVTALRM 27) SIGPROF 28) SIGWINCH 29) SIGIO 30) SIGPWR 31) SIGSYS 34) SIGRTMIN 35) SIGRTMIN+1 36) SIGRTMIN+2 37) SIGRTMIN+3 38) SIGRTMIN+4 39) SIGRTMIN+5 40) SIGRTMIN+6 41) SIGRTMIN+7 42) SIGRTMIN+8 43) SIGRTMIN+9 44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13 48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12 53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9 56) SIGRTMAX-8 57) SIGRTMAX-7 58) SIGRTMAX-6 59) SIGRTMAX-5 60) SIGRTMAX-4 61) SIGRTMAX-3 62) SIGRTMAX-2 63) SIGRTMAX-1 64) SIGRTMAX 5.10. Standard IO/Pipeline $ ls -l /dev/std* lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stderr -&gt; /proc/self/fd/2 lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stdin -&gt; /proc/self/fd/0 lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stdout -&gt; /proc/self/fd/1 $ ls -l /proc/self/fd/{0,1,2} lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/0 -&gt; /dev/pts/0 lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/1 -&gt; /dev/pts/0 lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/2 -&gt; /dev/pts/0 $ cat hello.sh #!/bin/bash echo &quot;Hello GNU/Linux!&quot; foo bar $ ./hello.sh Hello GNU/Linux! ./hello.sh: line 3: foo: command not found $ ./hello.sh 2&gt; err 1&gt; out $ cat err ./hello.sh: line 3: foo: command not found $ cat out Hello GNU/Linux! $ ./hello.sh &gt; allblue 2&gt;&amp;1 $ cat allblue Hello GNU/Linux! ./hello.sh: line 3: foo: command not found $ cat &lt; out | xargs echo Hello GNU/Linux! re: https://en.wikipedia.org/wiki/Standard_streams re: https://en.wikipedia.org/wiki/Redirection_(computing) In Unix-like computer operating systems, a pipeline is a sequence of processes chained together by their standard streams, so that the output of each process (stdout) feeds directly as input (stdin) to the next one. The concept of pipelines was championed by Douglas McIlroy at Unix&#8217;s ancestral home of Bell Labs, during the development of Unix, shaping its toolbox philosophy. Each process takes input from the previous process and produces output for the next process via standard streams. Each &quot;|&quot; tells the shell to connect the standard output of the command on the left to the standard input of the command on the right by an inter-process communication mechanism called an (anonymous) pipe, implemented in the operating system. Pipes are unidirectional; data flows through the pipeline from left to right. re: https://en.wikipedia.org/wiki/Pipeline_%28Unix%29 $ man 1 man | less $ git rebase –-help | more 5.11. Vim: God of the text editors / Emacs: a text editor of the Gods Two modes: command mode and insert mode Commands that switch the editor to insert mode a will append: it moves the cursor one position to the right before switching to insert mode i will insert o will insert a blank line under the current cursor position and move the cursor to that line. Moving through the text h to move the cursor to the left l to move it to the right k to move up j to move down Basic operations n dd will delete n lines starting from the current cursor position. n dw will delete n words at the right side of the cursor. x will delete the character on which the cursor is positioned :n moves to line n of the file. :w will save (write) the file :q will exit the editor. :q! forces the exit when you want to quit a file containing unsaved changes. :wq will save and exit :w newfile will save the text to newfile. :wq! overrides read-only permission (if you have the permission to override permissions, for instance when you are using the root account. /astring will search the string in the file and position the cursor on the first match below its position. :1, $s/word/anotherword/g will replace word with anotherword throughout the file. yy will copy a block of text. re: https://vim.org ~/.vimrc &quot; Display line number set number &quot; Disable VIM swap and backup set nobackup set nowritebackup set noswapfile &quot; Indenting source code set expandtab set tabstop=4 set shiftwidth=4 autocmd FileType make setlocal noexpandtab autocmd FileType js set shiftwidth=2 &quot; UTF-8 set encoding=utf-8 set fileencoding=utf-8 set fileencodings=ucs-bom,utf-8,chinese set ambiwidth=double &quot; syntax syntax on set showmatch &quot; backspace set backspace=indent,eol,start 6. Network Configuration DHCP assigns IP addresses dynamically from a defined pool. By configuring static IPs outside the DHCP pool (which starts from 128 on VMWare Player by default, like range 192.168.42.128 192.168.42.254; in vmnetdhcp.conf), the VM will always use those specific addresses regardless of DHCP activity. Debian # /etc/network/interfaces auto eth0 allow-hotplug eth0 iface eth0 inet static address 192.168.1.42/24 gateway 192.168.1.1 iface eth0 inet static address 192.168.1.43/24 iface eth0 inet static address 192.168.1.44/24 # adding IP addresses from different subnets is also possible iface eth0 inet static address 10.10.10.14/24 # minxing static and dynamic is also possible iface eth0 inet dhcp Centos # /etc/sysconfig/network-scripts/ifcfg-ens160 TYPE=Ethernet PROXY_METHOD=none BROWSER_ONLY=no BOOTPROTO=dhcp # BOOTPROTO=none DEFROUTE=yes IPV4_FAILURE_FATAL=no IPV6INIT=yes IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_FAILURE_FATAL=no IPV6_ADDR_GEN_MODE=stable-privacy NAME=ens160 UUID=ca4c7490-a875-448f-af1e-25420a9853ff DEVICE=ens160 ONBOOT=yes # minxing DHCP with a secondary static IP IPADDR=192.168.56.132 PREFIX=24 IP-aliases are an obsolete way to manage multiple IP-addresses/masks per interface. Newer tools such as iproute2 support multiple address/prefixes per interface, but aliases are still supported for backwards compatibility. re: https://docs.kernel.org/networking/alias.html re: https://wiki.debian.org/NetworkConfiguration re: https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/ch-configuring_ip_networking" />
<meta property="og:description" content="1. Multics/Unix 2. BSD &amp; System Ⅴ &amp; Mach 3. Unix philosophy 4. GNU/Linux/Linux distribution 5. Debian on VM 5.1. Oracle VirtualBox/VMware Player 5.2. APT: Advanced Package Tool 5.3. Shell/SSH/Putty/Xshell 5.4. Bash -GNU Bourne-Again SHell 5.5. File/File System 5.6. Process 5.7. User/Group 5.8. File System Permissions 5.9. Signal (IPC=Inter-process communication) 5.10. Standard IO/Pipeline 5.11. Vim: God of the text editors / Emacs: a text editor of the Gods 6. Network Configuration 1. Multics/Unix Multics an influential early time-sharing operating system MIT, GE, Bell Labs Unix Ken Thompson The designer and implementer of the original Unix Since 2006, Thompson has worked at Google, where he co-invented the Go programming language. C and Unix Dennis Ritchie: the creator of the C programming language In 1972, Unix was rewritten in the higher-level language C Ritchie was found dead on October 12, 2011, at the age of 70 at his home in Berkeley Heights, New Jersey, where he lived alone. First news of his death came from his former colleague, Rob Pike. The cause and exact time of death have not been disclosed. re: https://en.wikipedia.org/wiki/Multics re: https://en.wikipedia.org/wiki/History_of_Unix re: https://en.wikipedia.org/wiki/Ken_Thompson re: https://en.wikipedia.org/wiki/Dennis_Ritchie#C_and_Unix 2. BSD &amp; System Ⅴ &amp; Mach BSD: Berkeley Software Distribution A branch of Unix, Berkeley Unix FreeBSD, OpenBSD, NetBSD Darwin, macOS, iOS, watchOS, tvOS System Ⅴ Solaris Mach microkernel Berkeley sockets Bill Joy &amp; Chuck Haley vi text editor Sun Microsystems, Inc Java programming language Linux: I&#8217;m coming &#8230;&#8203; re: https://en.wikipedia.org/wiki/Berkeley_Software_Distribution re: https://en.wikipedia.org/wiki/History_of_the_Berkeley_Software_Distribution re: https://en.wikipedia.org/wiki/UNIX_System_V re: https://en.wikipedia.org/wiki/Berkeley_sockets 3. Unix philosophy The Unix philosophy, originated by Ken Thompson, is a set of cultural norms and philosophical approaches to minimalist, modular software development. The Unix philosophy favors composability as opposed to monolithic design. Peter H. Salusin A Quarter-Century of Unix (1994): Write programs that do one thing and do it well. Write programs to work together. Write programs to handle text streams, because that is a universal interface. re: https://en.wikipedia.org/wiki/Unix_philosophy 4. GNU/Linux/Linux distribution Debian (/ˈdɛbiən/) (community-supported) Debian-based Ubuntu (/ʊˈbʊntuː/ (Desktop, Server, IoT) Red Hat Linux RPM-based Fedora Linux (community-supported) CentOS Stream Red Hat Enterprise Linux (RHEL, commercial open-source Linux distribution) Amazon Linux 2 Oracle Linux (OL, formerly known as Oracle Enterprise Linux or OEL) CentOS (community-supported, EOL!) Rocky Linux SUSE Linux RPM-based openSUSE (/ˈsuːsə, ˈsuːzə/) (community-supported) SUSE Linux Enterprise (SLE) SUSE Linux Enterprise Server (SLES, servers and mainframes) SUSE Linux Enterprise Desktop (SLED, desktop for workstations and desktop computers) Arch Linux Pacman-based Asahi Linux Android HarmonyOS re: https://en.wikipedia.org/wiki/Linux re: https://wiki.linuxquestions.org/wiki/Distribution re: https://en.wikipedia.org/wiki/Linux_distribution re: https://en.wikipedia.org/wiki/List_of_Linux_distributions re: https://en.wikipedia.org/wiki/Comparison_of_Linux_distributions 5. Debian on VM 5.1. Oracle VirtualBox/VMware Player Download VirtualBox: https://www.virtualbox.org/wiki/Downloads Download VMware Workstation Player: https://my.vmware.com/en/web/vmware/free#desktop_end_user_computing/vmware_workstation_player/12_0 Getting Debian: https://www.debian.org/distrib/ https://www.debian.org/mirror/list Download CentOS: https://www.centos.org/download/ https://www.centos.org/download/mirrors/ 5.2. APT: Advanced Package Tool # apt-get update # yum makecache Hit:1 https://deb.nodesource.com/node_8.x stretch InRelease Hit:2 https://download.docker.com/linux/debian stretch InRelease ... Reading package lists... Done # apt-cache search nginx # yum search nginx-small, powerful, scalable web/proxy server # apt-cache madison nginx # yum --showduplicates search nginx nginx| 1.13.3-1~bpo9+1 | http://mirrors.163.com/debian stretch-backports/main amd64 Packages nginx| 1.10.3-1+deb9u1 | http://mirrors.163.com/debian stretch/main amd64 Packages # apt-get install nginx # yum install nginx Reading package lists... Done Building dependency tree Reading state information... Done The following additional packages will be installed: ... apt-get update -&gt; apt update apt-get upgrade -&gt; apt upgrade apt-get dist-upgrade -&gt; apt full-upgrade apt-get install package -&gt; apt install package apt-get remove package -&gt; apt remove package apt-get autoremove -&gt; apt autoremove apt-cache search string -&gt; apt search string apt-cache policy package -&gt; apt list -a package apt-cache show package -&gt; apt show package apt-cache showpkg package -&gt; apt show -a package re: Debian package management, https://www.debian.org/doc/manuals/debian-reference/ch02.en.html re: Basics of the Debian package management system, https://www.debian.org/doc/manuals/debian-faq/pkg-basics.en.html re: The Debian package management tools, https://www.debian.org/doc/manuals/debian-faq/pkgtools.en.html re: https://en.wikipedia.org/wiki/APT_(Debian) 5.3. Shell/SSH/Putty/Xshell $ touch hello.sh $ cat &lt;&lt;EOF &gt; #!/bin/bash &gt; &gt; echo &quot;Hello GNU/Linux!&quot; &gt; EOF #!/bin/bash echo &quot;Hello GNU/Linux!&quot; $ /bin/bash hello.sh Hello GNU/Linux! $ chmod +x hello.sh $ ./hello.sh Hello GNU/Linux! $ re: https://en.wikipedia.org/wiki/Unix_shell re: https://en.wikipedia.org/wiki/Bash_(Unix_shell) re: https://en.wikipedia.org/wiki/Secure_Shell 5.4. Bash -GNU Bourne-Again SHell Bash is an sh-compatible command language interpreter that executes commands read from the standard input or from a file. Bash also incorporates useful features from the Kornand C shells (ksh and csh). A login shell is one whose first character of argument zero is a -, or one started with the --login option. An interactive shell is one started without non-option arguments (unless -s is specified) and without the -c option whose standard input and error are both connected to terminals (as determined by isatty(3)), or one started with the -i option. PS1 is set and $- includes i if bash is interactive, allowing a shell script or a startup file to test this state. When you log in on a text console, or through SSH, or with su -, you get an interactive login shell. When you start a shell in a terminal in an existing session (screen, X terminal, Emacsterminal buffer, a shell inside another, etc.), you get an interactive, non-login shell. Table 1. Bash Startup Files login non-login interactive /etc/profile ~/.bash_profile ~/.bash_login ~/.profile ~/.bashrc non-interactive /etc/profile ~/.bash_profile ~/.bash_login ~/.profile if [-n &quot;$BASH_ENV&quot; ]; then . &quot;$BASH_ENV&quot;; fi if [-n &quot;$BASH_ENV&quot; ]; then . &quot;$BASH_ENV&quot;; fi Typically, the ~/.bash_profile contains the line: if [ -f ~/.bashrc ]; then . ~ ~/.bashrc; fi. re: https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html re: https://unix.stackexchange.com/questions/38175/difference-between-login-shell-and-non-login-shell re: https://askubuntu.com/questions/879364/differentiate-interactive-login-and-non-interactive-non-login-shell Subshell A subshell is a child process (fork-exec) launched by a shell (or shell script). The source command can be used to load any functions file into the current shell script or a command prompt. $ cat hello.sh #!/bin/bash greeting=&quot;Hello GNU/Linux!&quot; $ ./hello.sh $ echo $greeting ... $ . ./hello.sh # source ./hello.sh $ echo $greeting Hello GNU/Linux! re: https://en.wikipedia.org/wiki/Fork%E2%80%93exec re: https://en.wikibooks.org/wiki/A_Quick_Introduction_to_Unix/Shells_and_subshells re: http://www.tldp.org/LDP/abs/html/subshells.html ENVIRONMENT When a program is invoked it is given an array of strings called the environment. This is a list of name-value pairs, of the form name=value. The shell provides several ways to manipulate the environment. On invocation, the shell scans its own environment and creates a parameter for each name found, automatically marking it for export to child processes. Executed commands inherit the environment. The export and declare -x commands allow parameters and functions to be added to and deleted from the environment. If the value of a parameter in the environment is modified, the new value becomes part of the environment, replacing the old. The environment inherited by any executed command consists of the shell&#8217;s initial environment, whose values may be modified in the shell, less any pairs removed by the unset command, plus any additions via the export and declare -x commands. $ greeting=&quot;Hello GNU/Linux!&quot; $ echo $greeting Hello GNU/Linux! $ vi hello.sh $ cat hello.sh #!/bin/bash echo $greeting $ ./hello.sh $ export greeting $ ./hello.sh Hello GNU/Linux! 5.5. File/File System &quot;On a UNIX system, everything is a file; if something is not a file, it is a process.&quot; Sorts of files - Regular file d Directory l Link c Character device s Socket p Named pipe b Block device # mkdir mydir # touch myfile # ln -sf myfile mylink # ls -l total 4 drwxr-xr-x 2 root root 4096 Sep 10 17:10 mydir -rw-r--r-- 1 root root 0 Sep 10 17:10 myfile lrwxrwxrwx 1 root root 6 Sep 10 17:10 mylink-&gt; myfile # ls -l /var/run/*.sock srw-rw---- 1 root docker 0 Sep 10 11:01 /var/run/docker.sock # ls -l /dev/sda1 brw-rw---- 1 root disk 8, 1 Sep 10 11:01 /dev/sda1 # ls -l /dev/tty1 crw--w---- 1 root tty 4, 1 Sep 10 11:01 /dev/tty1 /tmp$ df -h Filesystem Size Used Avail Use% Mounted on udev 986M 0 986M 0% /dev tmpfs 200M 6.1M 194M 4% /run /dev/sda1 19G 9.9G 7.9G 56% / tmpfs 998M 0 998M 0% /dev/shm tmpfs 5.0M 0 5.0M 0% /run/lock tmpfs 998M 0 998M 0% /sys/fs/cgroup tmpfs 200M 0 200M 0% /run/user/1000 /tmp$ df . -h Filesystem Size Used Avail Use% Mounted on /dev/sda1 19G 9.9G 7.9G 56% / /tmp$ touch foobar /tmp$ ls -li foobar 262826 - rw-r--r-- 1 x x 0 Sep 11 21:01 foobar /tmp# mkdir mydir # make a directory /tmp# cd mydir/ # change to mydir/ /tmp/mydir# pwd # print the work directory /tmp/mydir /tmp/mydir# touch myfile # make a file /tmp/mydir# ls # list the currentydirectory contents myfile /tmp/mydir# mv myfile myfile2 # rename myfileto myfile2 /tmp/mydir# rm myfile2 # remove myfile2 /tmp/mydir# cd .. # change to parent dir /tmp# rm -r mydir/ # remove mydir /tmp# ls /tmp# /tmp# cat &lt;&lt;EOF &gt; foo &gt; Hello GNU/Linux! &gt; EOF /tmp# cat foo Hello GNU/Linux! /tmp# cp foo bar # copy foo to bar /tmp# ls bar foo /tmp# cat bar Hello GNU/Linux! /tmp# mkdir mydir /tmp# mv foo bar mydir/ # move foo bar to mydir/ /tmp# ls mydir /tmp# cp -a mydir/ mydir2 # copy mydir/ to mydir2 /tmp# ls mydir mydir2 /tmp# cat &lt;&lt;EOF &gt; hello.sh &gt; #!/bin/bash &gt; echo &quot;Hello GNU/Linux!&quot; &gt; EOF /tmp# ls -l total 4 -rw-r--r-- 1 root root 36 Sep 10 17:34 hello.sh /tmp# chmod +x hello.sh /tmp# ls -l total 4 -rwxr-xr-x 1 root root 36 Sep 10 17:34 hello.sh /tmp# ./hello.sh Hello GNU/Linux! /tmp# stat -c &quot;%a&quot; hello.sh 755 /tmp# chmod 777 hello.sh /tmp# ls -l total 4 -rwxrwxrwx 1 root root 36 Sep 10 17:34 hello.sh /tmp# tail -n 1 hello.sh echo &quot;Hello GNU/Linux!&quot; /tmp# head -n 1 hello.sh #!/bin/bash /tmp# cat hello.sh #!/bin/bash echo &quot;Hello GNU/Linux!&quot; /bin Common programs, shared by the system, the system administrator and the users. /boot The startup files and the kernel, vmlinuz. /dev Contains references to all the CPU peripheral hardware, which are represented as files with special properties. /etc Most important system configuration files are in /etc, this directory contains data similar to those in the Control Panel in Windows /home Home directories of the common users. /lib Library files, includes files for all kinds of programs needed by the system and the users. /mnt Standard mount point for external file systems, e.g. a CD-ROM or a digital camera. /opt Typically contains extra and third party software. /proc A virtual file system containing information about system resources. /root The administrative user&#39;s home directory. /sbin Programs for use by the system and the system administrator. /tmp Temporary space for use by the system, cleaned upon reboot, so don&#39;t use this for saving any work! /usr Programs, libraries, documentation etc. for all user-related programs. /var Storage for all variable files and temporary files created by. re: http://www.tldp.org/LDP/intro-linux/html/sect_03_01.html re: https://en.wikipedia.org/wiki/File_system 5.6. Process $ ps -f -C nginx UID PID PPID C STIME TTY TIME CMD root 3972 3957 1 16:18 ? 00:00:00 nginx: master process nginx -g daemon off; systemd+ 4012 3972 0 16:18 ? 00:00:00 nginx: worker process $ ps aux|grep nginx root 3972 0.3 0.2 32424 4872 ? Ss 16:18 0:00 nginx: master process nginx -g daemon off; systemd+ 4012 0.0 0.1 32912 2492 ? S 16:18 0:00 nginx: worker process x 4026 0.0 0.0 12784 948 pts/2 S+ 16:19 0:00 grep --color=auto nginx $ ps -f -u www-data UID PID PPID C STIME TTY TIME CMD www-data 6631 6630 0 21:43 ? 00:00:00 nginx: worker process www-data 6632 6630 0 21:43 ? 00:00:00 nginx: worker process $ pstree -p systemd(1)─┬─acpid(422) ├─agetty(435) ├─cron(354) ├─dbus-daemon(360) ├─dhclient(477) ├─irqbalance(358) ├─ntpd(446)───{ntpd}(455) ├─rsyslogd(359)─┬─{in:imklog}(403) │ ├─{in:imuxsock}(402) │ └─{rs:main Q:Reg}(404) ├─sshd(353)───sshd(1360)───sshd(1369)───bash(1370)───pstree(3168) ├─systemd(1362)───(sd-pam)(1363) ├─systemd-journal(197) ├─systemd-logind(417) └─systemd-udevd(211) # pstree -p init(1)─┬─acpid(2155) ├─auditd(2052)─┬─audispd(2054)───{audispd}(2055) │ └─{auditd}(2053) ├─dhclient(2001) ├─events/0(4) ├─klogd(2087) ├─ksoftirqd/0(3) ├─kthread(6)─┬─aio/0(245) │ ├─ata/0(498) ├─smartd(2338) ├─sshd(2244)───sshd(2395)───sshd(2402)───bash(2403)───su(2435)───bash(2436)───pstree(2519) ├─syslogd(2084) └─udevd(575) 5.7. User/Group $ touch foo $ sudo touch bar $ ls -l total 0 -rw-r--r-- 1 root root 0 Sep 11 21:57 bar -rw-r--r-- 1 x x 0 Sep 11 21:57 foo $ chown x bar chown: changing ownership of &#39;bar&#39;: Operation not permitted $ sudo chown x bar $ ls -l total 0 -rw-r--r-- 1 x root 0 Sep 11 21:57 bar -rw-r--r-- 1 x x 0 Sep 11 21:57 foo $ sudo chgrp x bar $ ls -l total 0 -rw-r--r-- 1 x x 0 Sep 11 21:57 bar -rw-r--r-- 1 x x 0 Sep 11 21:57 foo$ $ ps -f -C nginx,ps UID PID PPID C STIME TTY TIME CMD root 6630 1 0 21:43 ? 00:00:00 nginx: master process nginx www-data 6631 6630 0 21:43 ? 00:00:00 nginx: worker process www-data 6632 6630 0 21:43 ? 00:00:00 nginx: worker process x 6872 3315 0 22:02 pts/1 00:00:00 ps -f -C nginx,ps $ sudo touch foobar [sudo] password for x: $ echo &#39;Hello GNU/Linux!&#39; &gt; foobar -bash: foobar: Permission denied $ ls -l foobar -rw-r--r-- 1 root root 0 Sep 12 13:56 foobar $ su Password: # echo &#39;Hello GNU/Linux!&#39; &gt; foobar # exit exit $ id uid=1000(x) gid=1000(x) groups=1000(x),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),108(netdev),999(docker) $ sudo grep &#39;%sudo&#39; /etc/sudoers %sudo ALL=(ALL:ALL) ALL$ ~# cd ~xianyu -su: cd: ~xianyu: No such file or directory ~# useradd -s /bin/bash -u 2000 -c &quot;Hello GNU/Linux!&quot; -m xianyu ~# cd ~xianyu/ /home/xianyu# grep &#39;xianyu&#39; /etc/passwd xianyu:x:2000:2000:Hello GNU/Linux!:/home/xianyu:/bin/bash /home/xianyu# id xianyu uid=2000(xianyu) gid=2000(xianyu) groups=2000(xianyu) /home/xianyu# su - xianyu ~$ pwd /home/xianyu ~$ exit logout /home/xianyu# cd ~# userdel -r xianyu userdel: xianyu mail spool (/var/mail/xianyu) not found ~# cd ~xianyu -su: cd: ~xianyu: No such file or directory 5.8. File System Permissions Symbolic Notation Numeric Notation English ---------- 0000 no permissions -rwx------ 0700 read, write, &amp; execute only for owner -rwxrwx--- 0770 read, write, &amp; execute for owner and group -rwxrwxrwx 0777 read, write, &amp; execute for owner, group and others SECURITY RISK ---x--x--x 0111 execute --w--w--w- 0222 write --wx-wx-wx 0333 write &amp; execute -r--r--r-- 0444 read -r-xr-xr-x 0555 read &amp; execute -rw-rw-rw- 0666 read &amp; write -rwxr----- 0740 owner can read, write, &amp; execute; group can only read; others have no permissions re: https://en.wikipedia.org/wiki/File_system_permissions re: https://en.wikipedia.org/wiki/Umask 5.9. Signal (IPC=Inter-process communication) $ kill -l 1) SIGHUP 2) SIGINT(Ctrl-C) 3) SIGQUIT(Ctrl-\) 4) SIGILL 5) SIGTRAP 6) SIGABRT 7) SIGBUS 8) SIGFPE 9) SIGKILL 10) SIGUSR1 11) SIGSEGV 12) SIGUSR2 13) SIGPIPE 14) SIGALRM 15) SIGTERM 16) SIGSTKFLT 17) SIGCHLD 18) SIGCONT 19) SIGSTOP(Ctrl-Z) 20) SIGTSTP 21) SIGTTIN 22) SIGTTOU 23) SIGURG 24) SIGXCPU 25) SIGXFSZ 26) SIGVTALRM 27) SIGPROF 28) SIGWINCH 29) SIGIO 30) SIGPWR 31) SIGSYS 34) SIGRTMIN 35) SIGRTMIN+1 36) SIGRTMIN+2 37) SIGRTMIN+3 38) SIGRTMIN+4 39) SIGRTMIN+5 40) SIGRTMIN+6 41) SIGRTMIN+7 42) SIGRTMIN+8 43) SIGRTMIN+9 44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13 48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12 53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9 56) SIGRTMAX-8 57) SIGRTMAX-7 58) SIGRTMAX-6 59) SIGRTMAX-5 60) SIGRTMAX-4 61) SIGRTMAX-3 62) SIGRTMAX-2 63) SIGRTMAX-1 64) SIGRTMAX 5.10. Standard IO/Pipeline $ ls -l /dev/std* lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stderr -&gt; /proc/self/fd/2 lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stdin -&gt; /proc/self/fd/0 lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stdout -&gt; /proc/self/fd/1 $ ls -l /proc/self/fd/{0,1,2} lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/0 -&gt; /dev/pts/0 lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/1 -&gt; /dev/pts/0 lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/2 -&gt; /dev/pts/0 $ cat hello.sh #!/bin/bash echo &quot;Hello GNU/Linux!&quot; foo bar $ ./hello.sh Hello GNU/Linux! ./hello.sh: line 3: foo: command not found $ ./hello.sh 2&gt; err 1&gt; out $ cat err ./hello.sh: line 3: foo: command not found $ cat out Hello GNU/Linux! $ ./hello.sh &gt; allblue 2&gt;&amp;1 $ cat allblue Hello GNU/Linux! ./hello.sh: line 3: foo: command not found $ cat &lt; out | xargs echo Hello GNU/Linux! re: https://en.wikipedia.org/wiki/Standard_streams re: https://en.wikipedia.org/wiki/Redirection_(computing) In Unix-like computer operating systems, a pipeline is a sequence of processes chained together by their standard streams, so that the output of each process (stdout) feeds directly as input (stdin) to the next one. The concept of pipelines was championed by Douglas McIlroy at Unix&#8217;s ancestral home of Bell Labs, during the development of Unix, shaping its toolbox philosophy. Each process takes input from the previous process and produces output for the next process via standard streams. Each &quot;|&quot; tells the shell to connect the standard output of the command on the left to the standard input of the command on the right by an inter-process communication mechanism called an (anonymous) pipe, implemented in the operating system. Pipes are unidirectional; data flows through the pipeline from left to right. re: https://en.wikipedia.org/wiki/Pipeline_%28Unix%29 $ man 1 man | less $ git rebase –-help | more 5.11. Vim: God of the text editors / Emacs: a text editor of the Gods Two modes: command mode and insert mode Commands that switch the editor to insert mode a will append: it moves the cursor one position to the right before switching to insert mode i will insert o will insert a blank line under the current cursor position and move the cursor to that line. Moving through the text h to move the cursor to the left l to move it to the right k to move up j to move down Basic operations n dd will delete n lines starting from the current cursor position. n dw will delete n words at the right side of the cursor. x will delete the character on which the cursor is positioned :n moves to line n of the file. :w will save (write) the file :q will exit the editor. :q! forces the exit when you want to quit a file containing unsaved changes. :wq will save and exit :w newfile will save the text to newfile. :wq! overrides read-only permission (if you have the permission to override permissions, for instance when you are using the root account. /astring will search the string in the file and position the cursor on the first match below its position. :1, $s/word/anotherword/g will replace word with anotherword throughout the file. yy will copy a block of text. re: https://vim.org ~/.vimrc &quot; Display line number set number &quot; Disable VIM swap and backup set nobackup set nowritebackup set noswapfile &quot; Indenting source code set expandtab set tabstop=4 set shiftwidth=4 autocmd FileType make setlocal noexpandtab autocmd FileType js set shiftwidth=2 &quot; UTF-8 set encoding=utf-8 set fileencoding=utf-8 set fileencodings=ucs-bom,utf-8,chinese set ambiwidth=double &quot; syntax syntax on set showmatch &quot; backspace set backspace=indent,eol,start 6. Network Configuration DHCP assigns IP addresses dynamically from a defined pool. By configuring static IPs outside the DHCP pool (which starts from 128 on VMWare Player by default, like range 192.168.42.128 192.168.42.254; in vmnetdhcp.conf), the VM will always use those specific addresses regardless of DHCP activity. Debian # /etc/network/interfaces auto eth0 allow-hotplug eth0 iface eth0 inet static address 192.168.1.42/24 gateway 192.168.1.1 iface eth0 inet static address 192.168.1.43/24 iface eth0 inet static address 192.168.1.44/24 # adding IP addresses from different subnets is also possible iface eth0 inet static address 10.10.10.14/24 # minxing static and dynamic is also possible iface eth0 inet dhcp Centos # /etc/sysconfig/network-scripts/ifcfg-ens160 TYPE=Ethernet PROXY_METHOD=none BROWSER_ONLY=no BOOTPROTO=dhcp # BOOTPROTO=none DEFROUTE=yes IPV4_FAILURE_FATAL=no IPV6INIT=yes IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_FAILURE_FATAL=no IPV6_ADDR_GEN_MODE=stable-privacy NAME=ens160 UUID=ca4c7490-a875-448f-af1e-25420a9853ff DEVICE=ens160 ONBOOT=yes # minxing DHCP with a secondary static IP IPADDR=192.168.56.132 PREFIX=24 IP-aliases are an obsolete way to manage multiple IP-addresses/masks per interface. Newer tools such as iproute2 support multiple address/prefixes per interface, but aliases are still supported for backwards compatibility. re: https://docs.kernel.org/networking/alias.html re: https://wiki.debian.org/NetworkConfiguration re: https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/ch-configuring_ip_networking" />
<link rel="canonical" href="https://blog.codefarm.me/2018/04/06/introduction-to-linux/" />
<meta property="og:url" content="https://blog.codefarm.me/2018/04/06/introduction-to-linux/" />
<meta property="og:site_name" content="CODE FARM" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-06T14:34:59+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Introduction to Linux" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2018-04-06T14:34:59+08:00","datePublished":"2018-04-06T14:34:59+08:00","description":"1. Multics/Unix 2. BSD &amp; System Ⅴ &amp; Mach 3. Unix philosophy 4. GNU/Linux/Linux distribution 5. Debian on VM 5.1. Oracle VirtualBox/VMware Player 5.2. APT: Advanced Package Tool 5.3. Shell/SSH/Putty/Xshell 5.4. Bash -GNU Bourne-Again SHell 5.5. File/File System 5.6. Process 5.7. User/Group 5.8. File System Permissions 5.9. Signal (IPC=Inter-process communication) 5.10. Standard IO/Pipeline 5.11. Vim: God of the text editors / Emacs: a text editor of the Gods 6. Network Configuration 1. Multics/Unix Multics an influential early time-sharing operating system MIT, GE, Bell Labs Unix Ken Thompson The designer and implementer of the original Unix Since 2006, Thompson has worked at Google, where he co-invented the Go programming language. C and Unix Dennis Ritchie: the creator of the C programming language In 1972, Unix was rewritten in the higher-level language C Ritchie was found dead on October 12, 2011, at the age of 70 at his home in Berkeley Heights, New Jersey, where he lived alone. First news of his death came from his former colleague, Rob Pike. The cause and exact time of death have not been disclosed. re: https://en.wikipedia.org/wiki/Multics re: https://en.wikipedia.org/wiki/History_of_Unix re: https://en.wikipedia.org/wiki/Ken_Thompson re: https://en.wikipedia.org/wiki/Dennis_Ritchie#C_and_Unix 2. BSD &amp; System Ⅴ &amp; Mach BSD: Berkeley Software Distribution A branch of Unix, Berkeley Unix FreeBSD, OpenBSD, NetBSD Darwin, macOS, iOS, watchOS, tvOS System Ⅴ Solaris Mach microkernel Berkeley sockets Bill Joy &amp; Chuck Haley vi text editor Sun Microsystems, Inc Java programming language Linux: I&#8217;m coming &#8230;&#8203; re: https://en.wikipedia.org/wiki/Berkeley_Software_Distribution re: https://en.wikipedia.org/wiki/History_of_the_Berkeley_Software_Distribution re: https://en.wikipedia.org/wiki/UNIX_System_V re: https://en.wikipedia.org/wiki/Berkeley_sockets 3. Unix philosophy The Unix philosophy, originated by Ken Thompson, is a set of cultural norms and philosophical approaches to minimalist, modular software development. The Unix philosophy favors composability as opposed to monolithic design. Peter H. Salusin A Quarter-Century of Unix (1994): Write programs that do one thing and do it well. Write programs to work together. Write programs to handle text streams, because that is a universal interface. re: https://en.wikipedia.org/wiki/Unix_philosophy 4. GNU/Linux/Linux distribution Debian (/ˈdɛbiən/) (community-supported) Debian-based Ubuntu (/ʊˈbʊntuː/ (Desktop, Server, IoT) Red Hat Linux RPM-based Fedora Linux (community-supported) CentOS Stream Red Hat Enterprise Linux (RHEL, commercial open-source Linux distribution) Amazon Linux 2 Oracle Linux (OL, formerly known as Oracle Enterprise Linux or OEL) CentOS (community-supported, EOL!) Rocky Linux SUSE Linux RPM-based openSUSE (/ˈsuːsə, ˈsuːzə/) (community-supported) SUSE Linux Enterprise (SLE) SUSE Linux Enterprise Server (SLES, servers and mainframes) SUSE Linux Enterprise Desktop (SLED, desktop for workstations and desktop computers) Arch Linux Pacman-based Asahi Linux Android HarmonyOS re: https://en.wikipedia.org/wiki/Linux re: https://wiki.linuxquestions.org/wiki/Distribution re: https://en.wikipedia.org/wiki/Linux_distribution re: https://en.wikipedia.org/wiki/List_of_Linux_distributions re: https://en.wikipedia.org/wiki/Comparison_of_Linux_distributions 5. Debian on VM 5.1. Oracle VirtualBox/VMware Player Download VirtualBox: https://www.virtualbox.org/wiki/Downloads Download VMware Workstation Player: https://my.vmware.com/en/web/vmware/free#desktop_end_user_computing/vmware_workstation_player/12_0 Getting Debian: https://www.debian.org/distrib/ https://www.debian.org/mirror/list Download CentOS: https://www.centos.org/download/ https://www.centos.org/download/mirrors/ 5.2. APT: Advanced Package Tool # apt-get update # yum makecache Hit:1 https://deb.nodesource.com/node_8.x stretch InRelease Hit:2 https://download.docker.com/linux/debian stretch InRelease ... Reading package lists... Done # apt-cache search nginx # yum search nginx-small, powerful, scalable web/proxy server # apt-cache madison nginx # yum --showduplicates search nginx nginx| 1.13.3-1~bpo9+1 | http://mirrors.163.com/debian stretch-backports/main amd64 Packages nginx| 1.10.3-1+deb9u1 | http://mirrors.163.com/debian stretch/main amd64 Packages # apt-get install nginx # yum install nginx Reading package lists... Done Building dependency tree Reading state information... Done The following additional packages will be installed: ... apt-get update -&gt; apt update apt-get upgrade -&gt; apt upgrade apt-get dist-upgrade -&gt; apt full-upgrade apt-get install package -&gt; apt install package apt-get remove package -&gt; apt remove package apt-get autoremove -&gt; apt autoremove apt-cache search string -&gt; apt search string apt-cache policy package -&gt; apt list -a package apt-cache show package -&gt; apt show package apt-cache showpkg package -&gt; apt show -a package re: Debian package management, https://www.debian.org/doc/manuals/debian-reference/ch02.en.html re: Basics of the Debian package management system, https://www.debian.org/doc/manuals/debian-faq/pkg-basics.en.html re: The Debian package management tools, https://www.debian.org/doc/manuals/debian-faq/pkgtools.en.html re: https://en.wikipedia.org/wiki/APT_(Debian) 5.3. Shell/SSH/Putty/Xshell $ touch hello.sh $ cat &lt;&lt;EOF &gt; #!/bin/bash &gt; &gt; echo &quot;Hello GNU/Linux!&quot; &gt; EOF #!/bin/bash echo &quot;Hello GNU/Linux!&quot; $ /bin/bash hello.sh Hello GNU/Linux! $ chmod +x hello.sh $ ./hello.sh Hello GNU/Linux! $ re: https://en.wikipedia.org/wiki/Unix_shell re: https://en.wikipedia.org/wiki/Bash_(Unix_shell) re: https://en.wikipedia.org/wiki/Secure_Shell 5.4. Bash -GNU Bourne-Again SHell Bash is an sh-compatible command language interpreter that executes commands read from the standard input or from a file. Bash also incorporates useful features from the Kornand C shells (ksh and csh). A login shell is one whose first character of argument zero is a -, or one started with the --login option. An interactive shell is one started without non-option arguments (unless -s is specified) and without the -c option whose standard input and error are both connected to terminals (as determined by isatty(3)), or one started with the -i option. PS1 is set and $- includes i if bash is interactive, allowing a shell script or a startup file to test this state. When you log in on a text console, or through SSH, or with su -, you get an interactive login shell. When you start a shell in a terminal in an existing session (screen, X terminal, Emacsterminal buffer, a shell inside another, etc.), you get an interactive, non-login shell. Table 1. Bash Startup Files login non-login interactive /etc/profile ~/.bash_profile ~/.bash_login ~/.profile ~/.bashrc non-interactive /etc/profile ~/.bash_profile ~/.bash_login ~/.profile if [-n &quot;$BASH_ENV&quot; ]; then . &quot;$BASH_ENV&quot;; fi if [-n &quot;$BASH_ENV&quot; ]; then . &quot;$BASH_ENV&quot;; fi Typically, the ~/.bash_profile contains the line: if [ -f ~/.bashrc ]; then . ~ ~/.bashrc; fi. re: https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html re: https://unix.stackexchange.com/questions/38175/difference-between-login-shell-and-non-login-shell re: https://askubuntu.com/questions/879364/differentiate-interactive-login-and-non-interactive-non-login-shell Subshell A subshell is a child process (fork-exec) launched by a shell (or shell script). The source command can be used to load any functions file into the current shell script or a command prompt. $ cat hello.sh #!/bin/bash greeting=&quot;Hello GNU/Linux!&quot; $ ./hello.sh $ echo $greeting ... $ . ./hello.sh # source ./hello.sh $ echo $greeting Hello GNU/Linux! re: https://en.wikipedia.org/wiki/Fork%E2%80%93exec re: https://en.wikibooks.org/wiki/A_Quick_Introduction_to_Unix/Shells_and_subshells re: http://www.tldp.org/LDP/abs/html/subshells.html ENVIRONMENT When a program is invoked it is given an array of strings called the environment. This is a list of name-value pairs, of the form name=value. The shell provides several ways to manipulate the environment. On invocation, the shell scans its own environment and creates a parameter for each name found, automatically marking it for export to child processes. Executed commands inherit the environment. The export and declare -x commands allow parameters and functions to be added to and deleted from the environment. If the value of a parameter in the environment is modified, the new value becomes part of the environment, replacing the old. The environment inherited by any executed command consists of the shell&#8217;s initial environment, whose values may be modified in the shell, less any pairs removed by the unset command, plus any additions via the export and declare -x commands. $ greeting=&quot;Hello GNU/Linux!&quot; $ echo $greeting Hello GNU/Linux! $ vi hello.sh $ cat hello.sh #!/bin/bash echo $greeting $ ./hello.sh $ export greeting $ ./hello.sh Hello GNU/Linux! 5.5. File/File System &quot;On a UNIX system, everything is a file; if something is not a file, it is a process.&quot; Sorts of files - Regular file d Directory l Link c Character device s Socket p Named pipe b Block device # mkdir mydir # touch myfile # ln -sf myfile mylink # ls -l total 4 drwxr-xr-x 2 root root 4096 Sep 10 17:10 mydir -rw-r--r-- 1 root root 0 Sep 10 17:10 myfile lrwxrwxrwx 1 root root 6 Sep 10 17:10 mylink-&gt; myfile # ls -l /var/run/*.sock srw-rw---- 1 root docker 0 Sep 10 11:01 /var/run/docker.sock # ls -l /dev/sda1 brw-rw---- 1 root disk 8, 1 Sep 10 11:01 /dev/sda1 # ls -l /dev/tty1 crw--w---- 1 root tty 4, 1 Sep 10 11:01 /dev/tty1 /tmp$ df -h Filesystem Size Used Avail Use% Mounted on udev 986M 0 986M 0% /dev tmpfs 200M 6.1M 194M 4% /run /dev/sda1 19G 9.9G 7.9G 56% / tmpfs 998M 0 998M 0% /dev/shm tmpfs 5.0M 0 5.0M 0% /run/lock tmpfs 998M 0 998M 0% /sys/fs/cgroup tmpfs 200M 0 200M 0% /run/user/1000 /tmp$ df . -h Filesystem Size Used Avail Use% Mounted on /dev/sda1 19G 9.9G 7.9G 56% / /tmp$ touch foobar /tmp$ ls -li foobar 262826 - rw-r--r-- 1 x x 0 Sep 11 21:01 foobar /tmp# mkdir mydir # make a directory /tmp# cd mydir/ # change to mydir/ /tmp/mydir# pwd # print the work directory /tmp/mydir /tmp/mydir# touch myfile # make a file /tmp/mydir# ls # list the currentydirectory contents myfile /tmp/mydir# mv myfile myfile2 # rename myfileto myfile2 /tmp/mydir# rm myfile2 # remove myfile2 /tmp/mydir# cd .. # change to parent dir /tmp# rm -r mydir/ # remove mydir /tmp# ls /tmp# /tmp# cat &lt;&lt;EOF &gt; foo &gt; Hello GNU/Linux! &gt; EOF /tmp# cat foo Hello GNU/Linux! /tmp# cp foo bar # copy foo to bar /tmp# ls bar foo /tmp# cat bar Hello GNU/Linux! /tmp# mkdir mydir /tmp# mv foo bar mydir/ # move foo bar to mydir/ /tmp# ls mydir /tmp# cp -a mydir/ mydir2 # copy mydir/ to mydir2 /tmp# ls mydir mydir2 /tmp# cat &lt;&lt;EOF &gt; hello.sh &gt; #!/bin/bash &gt; echo &quot;Hello GNU/Linux!&quot; &gt; EOF /tmp# ls -l total 4 -rw-r--r-- 1 root root 36 Sep 10 17:34 hello.sh /tmp# chmod +x hello.sh /tmp# ls -l total 4 -rwxr-xr-x 1 root root 36 Sep 10 17:34 hello.sh /tmp# ./hello.sh Hello GNU/Linux! /tmp# stat -c &quot;%a&quot; hello.sh 755 /tmp# chmod 777 hello.sh /tmp# ls -l total 4 -rwxrwxrwx 1 root root 36 Sep 10 17:34 hello.sh /tmp# tail -n 1 hello.sh echo &quot;Hello GNU/Linux!&quot; /tmp# head -n 1 hello.sh #!/bin/bash /tmp# cat hello.sh #!/bin/bash echo &quot;Hello GNU/Linux!&quot; /bin Common programs, shared by the system, the system administrator and the users. /boot The startup files and the kernel, vmlinuz. /dev Contains references to all the CPU peripheral hardware, which are represented as files with special properties. /etc Most important system configuration files are in /etc, this directory contains data similar to those in the Control Panel in Windows /home Home directories of the common users. /lib Library files, includes files for all kinds of programs needed by the system and the users. /mnt Standard mount point for external file systems, e.g. a CD-ROM or a digital camera. /opt Typically contains extra and third party software. /proc A virtual file system containing information about system resources. /root The administrative user&#39;s home directory. /sbin Programs for use by the system and the system administrator. /tmp Temporary space for use by the system, cleaned upon reboot, so don&#39;t use this for saving any work! /usr Programs, libraries, documentation etc. for all user-related programs. /var Storage for all variable files and temporary files created by. re: http://www.tldp.org/LDP/intro-linux/html/sect_03_01.html re: https://en.wikipedia.org/wiki/File_system 5.6. Process $ ps -f -C nginx UID PID PPID C STIME TTY TIME CMD root 3972 3957 1 16:18 ? 00:00:00 nginx: master process nginx -g daemon off; systemd+ 4012 3972 0 16:18 ? 00:00:00 nginx: worker process $ ps aux|grep nginx root 3972 0.3 0.2 32424 4872 ? Ss 16:18 0:00 nginx: master process nginx -g daemon off; systemd+ 4012 0.0 0.1 32912 2492 ? S 16:18 0:00 nginx: worker process x 4026 0.0 0.0 12784 948 pts/2 S+ 16:19 0:00 grep --color=auto nginx $ ps -f -u www-data UID PID PPID C STIME TTY TIME CMD www-data 6631 6630 0 21:43 ? 00:00:00 nginx: worker process www-data 6632 6630 0 21:43 ? 00:00:00 nginx: worker process $ pstree -p systemd(1)─┬─acpid(422) ├─agetty(435) ├─cron(354) ├─dbus-daemon(360) ├─dhclient(477) ├─irqbalance(358) ├─ntpd(446)───{ntpd}(455) ├─rsyslogd(359)─┬─{in:imklog}(403) │ ├─{in:imuxsock}(402) │ └─{rs:main Q:Reg}(404) ├─sshd(353)───sshd(1360)───sshd(1369)───bash(1370)───pstree(3168) ├─systemd(1362)───(sd-pam)(1363) ├─systemd-journal(197) ├─systemd-logind(417) └─systemd-udevd(211) # pstree -p init(1)─┬─acpid(2155) ├─auditd(2052)─┬─audispd(2054)───{audispd}(2055) │ └─{auditd}(2053) ├─dhclient(2001) ├─events/0(4) ├─klogd(2087) ├─ksoftirqd/0(3) ├─kthread(6)─┬─aio/0(245) │ ├─ata/0(498) ├─smartd(2338) ├─sshd(2244)───sshd(2395)───sshd(2402)───bash(2403)───su(2435)───bash(2436)───pstree(2519) ├─syslogd(2084) └─udevd(575) 5.7. User/Group $ touch foo $ sudo touch bar $ ls -l total 0 -rw-r--r-- 1 root root 0 Sep 11 21:57 bar -rw-r--r-- 1 x x 0 Sep 11 21:57 foo $ chown x bar chown: changing ownership of &#39;bar&#39;: Operation not permitted $ sudo chown x bar $ ls -l total 0 -rw-r--r-- 1 x root 0 Sep 11 21:57 bar -rw-r--r-- 1 x x 0 Sep 11 21:57 foo $ sudo chgrp x bar $ ls -l total 0 -rw-r--r-- 1 x x 0 Sep 11 21:57 bar -rw-r--r-- 1 x x 0 Sep 11 21:57 foo$ $ ps -f -C nginx,ps UID PID PPID C STIME TTY TIME CMD root 6630 1 0 21:43 ? 00:00:00 nginx: master process nginx www-data 6631 6630 0 21:43 ? 00:00:00 nginx: worker process www-data 6632 6630 0 21:43 ? 00:00:00 nginx: worker process x 6872 3315 0 22:02 pts/1 00:00:00 ps -f -C nginx,ps $ sudo touch foobar [sudo] password for x: $ echo &#39;Hello GNU/Linux!&#39; &gt; foobar -bash: foobar: Permission denied $ ls -l foobar -rw-r--r-- 1 root root 0 Sep 12 13:56 foobar $ su Password: # echo &#39;Hello GNU/Linux!&#39; &gt; foobar # exit exit $ id uid=1000(x) gid=1000(x) groups=1000(x),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),108(netdev),999(docker) $ sudo grep &#39;%sudo&#39; /etc/sudoers %sudo ALL=(ALL:ALL) ALL$ ~# cd ~xianyu -su: cd: ~xianyu: No such file or directory ~# useradd -s /bin/bash -u 2000 -c &quot;Hello GNU/Linux!&quot; -m xianyu ~# cd ~xianyu/ /home/xianyu# grep &#39;xianyu&#39; /etc/passwd xianyu:x:2000:2000:Hello GNU/Linux!:/home/xianyu:/bin/bash /home/xianyu# id xianyu uid=2000(xianyu) gid=2000(xianyu) groups=2000(xianyu) /home/xianyu# su - xianyu ~$ pwd /home/xianyu ~$ exit logout /home/xianyu# cd ~# userdel -r xianyu userdel: xianyu mail spool (/var/mail/xianyu) not found ~# cd ~xianyu -su: cd: ~xianyu: No such file or directory 5.8. File System Permissions Symbolic Notation Numeric Notation English ---------- 0000 no permissions -rwx------ 0700 read, write, &amp; execute only for owner -rwxrwx--- 0770 read, write, &amp; execute for owner and group -rwxrwxrwx 0777 read, write, &amp; execute for owner, group and others SECURITY RISK ---x--x--x 0111 execute --w--w--w- 0222 write --wx-wx-wx 0333 write &amp; execute -r--r--r-- 0444 read -r-xr-xr-x 0555 read &amp; execute -rw-rw-rw- 0666 read &amp; write -rwxr----- 0740 owner can read, write, &amp; execute; group can only read; others have no permissions re: https://en.wikipedia.org/wiki/File_system_permissions re: https://en.wikipedia.org/wiki/Umask 5.9. Signal (IPC=Inter-process communication) $ kill -l 1) SIGHUP 2) SIGINT(Ctrl-C) 3) SIGQUIT(Ctrl-\\) 4) SIGILL 5) SIGTRAP 6) SIGABRT 7) SIGBUS 8) SIGFPE 9) SIGKILL 10) SIGUSR1 11) SIGSEGV 12) SIGUSR2 13) SIGPIPE 14) SIGALRM 15) SIGTERM 16) SIGSTKFLT 17) SIGCHLD 18) SIGCONT 19) SIGSTOP(Ctrl-Z) 20) SIGTSTP 21) SIGTTIN 22) SIGTTOU 23) SIGURG 24) SIGXCPU 25) SIGXFSZ 26) SIGVTALRM 27) SIGPROF 28) SIGWINCH 29) SIGIO 30) SIGPWR 31) SIGSYS 34) SIGRTMIN 35) SIGRTMIN+1 36) SIGRTMIN+2 37) SIGRTMIN+3 38) SIGRTMIN+4 39) SIGRTMIN+5 40) SIGRTMIN+6 41) SIGRTMIN+7 42) SIGRTMIN+8 43) SIGRTMIN+9 44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13 48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12 53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9 56) SIGRTMAX-8 57) SIGRTMAX-7 58) SIGRTMAX-6 59) SIGRTMAX-5 60) SIGRTMAX-4 61) SIGRTMAX-3 62) SIGRTMAX-2 63) SIGRTMAX-1 64) SIGRTMAX 5.10. Standard IO/Pipeline $ ls -l /dev/std* lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stderr -&gt; /proc/self/fd/2 lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stdin -&gt; /proc/self/fd/0 lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stdout -&gt; /proc/self/fd/1 $ ls -l /proc/self/fd/{0,1,2} lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/0 -&gt; /dev/pts/0 lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/1 -&gt; /dev/pts/0 lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/2 -&gt; /dev/pts/0 $ cat hello.sh #!/bin/bash echo &quot;Hello GNU/Linux!&quot; foo bar $ ./hello.sh Hello GNU/Linux! ./hello.sh: line 3: foo: command not found $ ./hello.sh 2&gt; err 1&gt; out $ cat err ./hello.sh: line 3: foo: command not found $ cat out Hello GNU/Linux! $ ./hello.sh &gt; allblue 2&gt;&amp;1 $ cat allblue Hello GNU/Linux! ./hello.sh: line 3: foo: command not found $ cat &lt; out | xargs echo Hello GNU/Linux! re: https://en.wikipedia.org/wiki/Standard_streams re: https://en.wikipedia.org/wiki/Redirection_(computing) In Unix-like computer operating systems, a pipeline is a sequence of processes chained together by their standard streams, so that the output of each process (stdout) feeds directly as input (stdin) to the next one. The concept of pipelines was championed by Douglas McIlroy at Unix&#8217;s ancestral home of Bell Labs, during the development of Unix, shaping its toolbox philosophy. Each process takes input from the previous process and produces output for the next process via standard streams. Each &quot;|&quot; tells the shell to connect the standard output of the command on the left to the standard input of the command on the right by an inter-process communication mechanism called an (anonymous) pipe, implemented in the operating system. Pipes are unidirectional; data flows through the pipeline from left to right. re: https://en.wikipedia.org/wiki/Pipeline_%28Unix%29 $ man 1 man | less $ git rebase –-help | more 5.11. Vim: God of the text editors / Emacs: a text editor of the Gods Two modes: command mode and insert mode Commands that switch the editor to insert mode a will append: it moves the cursor one position to the right before switching to insert mode i will insert o will insert a blank line under the current cursor position and move the cursor to that line. Moving through the text h to move the cursor to the left l to move it to the right k to move up j to move down Basic operations n dd will delete n lines starting from the current cursor position. n dw will delete n words at the right side of the cursor. x will delete the character on which the cursor is positioned :n moves to line n of the file. :w will save (write) the file :q will exit the editor. :q! forces the exit when you want to quit a file containing unsaved changes. :wq will save and exit :w newfile will save the text to newfile. :wq! overrides read-only permission (if you have the permission to override permissions, for instance when you are using the root account. /astring will search the string in the file and position the cursor on the first match below its position. :1, $s/word/anotherword/g will replace word with anotherword throughout the file. yy will copy a block of text. re: https://vim.org ~/.vimrc &quot; Display line number set number &quot; Disable VIM swap and backup set nobackup set nowritebackup set noswapfile &quot; Indenting source code set expandtab set tabstop=4 set shiftwidth=4 autocmd FileType make setlocal noexpandtab autocmd FileType js set shiftwidth=2 &quot; UTF-8 set encoding=utf-8 set fileencoding=utf-8 set fileencodings=ucs-bom,utf-8,chinese set ambiwidth=double &quot; syntax syntax on set showmatch &quot; backspace set backspace=indent,eol,start 6. Network Configuration DHCP assigns IP addresses dynamically from a defined pool. By configuring static IPs outside the DHCP pool (which starts from 128 on VMWare Player by default, like range 192.168.42.128 192.168.42.254; in vmnetdhcp.conf), the VM will always use those specific addresses regardless of DHCP activity. Debian # /etc/network/interfaces auto eth0 allow-hotplug eth0 iface eth0 inet static address 192.168.1.42/24 gateway 192.168.1.1 iface eth0 inet static address 192.168.1.43/24 iface eth0 inet static address 192.168.1.44/24 # adding IP addresses from different subnets is also possible iface eth0 inet static address 10.10.10.14/24 # minxing static and dynamic is also possible iface eth0 inet dhcp Centos # /etc/sysconfig/network-scripts/ifcfg-ens160 TYPE=Ethernet PROXY_METHOD=none BROWSER_ONLY=no BOOTPROTO=dhcp # BOOTPROTO=none DEFROUTE=yes IPV4_FAILURE_FATAL=no IPV6INIT=yes IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_FAILURE_FATAL=no IPV6_ADDR_GEN_MODE=stable-privacy NAME=ens160 UUID=ca4c7490-a875-448f-af1e-25420a9853ff DEVICE=ens160 ONBOOT=yes # minxing DHCP with a secondary static IP IPADDR=192.168.56.132 PREFIX=24 IP-aliases are an obsolete way to manage multiple IP-addresses/masks per interface. Newer tools such as iproute2 support multiple address/prefixes per interface, but aliases are still supported for backwards compatibility. re: https://docs.kernel.org/networking/alias.html re: https://wiki.debian.org/NetworkConfiguration re: https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/ch-configuring_ip_networking","headline":"Introduction to Linux","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.codefarm.me/2018/04/06/introduction-to-linux/"},"url":"https://blog.codefarm.me/2018/04/06/introduction-to-linux/"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/style.css"><!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SN88FJ18E5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-SN88FJ18E5');
    </script></head>
  <body>
    <header class="c-header">
  <div class="o-container">
    <a class="c-header-title" href="/">CODE FARM</a>
    <button class="c-header-nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
      <span class="c-header-nav-toggle-icon"></span>
    </button>
    <div class="c-header-nav-wrapper" id="nav-wrapper">
      <nav class="c-header-nav">
        <a href="/">Home</a>
        <a href="/categories/">Category</a>
        <a href="/tags/">Tag</a>
        <a href="/archives/">Archive</a>
        <a href="/about/">About</a>
        <a href="https://resume.github.io/?looogos" target="_blank">R&eacute;sum&eacute;</a>
      </nav>
    </div>
  </div>
  



<div class="o-container">
  <div class="c-banner">
    <img src="/assets/images/galaxy.svg" alt="Galaxy background" class="c-banner-bg">
    <div class="c-banner-quote">
      <p>"The Renaissance was a time when art, science, and philosophy flourished."</p>
      <cite>- Michelangelo</cite>
    </div>
  </div>
</div>
</header>

    <main class="o-container">
      <article class="c-post">
  <header class="c-post-header">
    <h1 class="c-post-title">Introduction to Linux</h1><p class="c-post-meta">07 Jun 2024</p>
  </header>

  <div class="c-post-content">
    <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#multicsunix">1. Multics/Unix</a></li>
<li><a href="#bsd-system-ⅴ-mach">2. BSD &amp; System Ⅴ &amp; Mach</a></li>
<li><a href="#unix-philosophy">3. Unix philosophy</a></li>
<li><a href="#gnulinuxlinux-distribution">4. GNU/Linux/Linux distribution</a></li>
<li><a href="#debian-on-vm">5. Debian on VM</a>
<ul class="sectlevel2">
<li><a href="#oracle-virtualboxvmware-player">5.1. Oracle VirtualBox/VMware Player</a></li>
<li><a href="#apt-advanced-package-tool">5.2. APT: Advanced Package Tool</a></li>
<li><a href="#shellsshputtyxshell">5.3. Shell/SSH/Putty/Xshell</a></li>
<li><a href="#bash-gnu-bourne-again-shell">5.4. Bash -GNU Bourne-Again SHell</a></li>
<li><a href="#filefile-system">5.5. File/File System</a></li>
<li><a href="#process">5.6. Process</a></li>
<li><a href="#usergroup">5.7. User/Group</a></li>
<li><a href="#file-system-permissions">5.8. File System Permissions</a></li>
<li><a href="#signal-ipcinter-process-communication">5.9. Signal <small>(IPC=Inter-process communication)</small></a></li>
<li><a href="#standard-iopipeline">5.10. Standard IO/Pipeline</a></li>
<li><a href="#vim-god-of-the-text-editors-emacs-a-text-editor-of-the-gods">5.11. Vim: God of the text editors / Emacs: a text editor of the Gods</a></li>
</ul>
</li>
<li><a href="#network-configuration">6. Network Configuration</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="multicsunix">1. Multics/Unix</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Multics</p>
<div class="ulist">
<ul>
<li>
<p>an influential early <strong>time-sharing</strong> operating system</p>
</li>
<li>
<p>MIT, GE, <strong>Bell Labs</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Unix</p>
<div class="ulist">
<ul>
<li>
<p>Ken Thompson</p>
<div class="ulist">
<ul>
<li>
<p>The designer and implementer of the original Unix</p>
</li>
<li>
<p>Since 2006, Thompson has worked at Google, where he co-invented the <strong>Go</strong> programming language.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>C and Unix</p>
<div class="ulist">
<ul>
<li>
<p>Dennis Ritchie: the creator of the <strong>C</strong> programming language</p>
</li>
<li>
<p>In 1972, Unix was rewritten in the higher-level language C</p>
</li>
<li>
<p>Ritchie was found dead on October 12, 2011, at the age of 70 at his home in Berkeley Heights, New Jersey, where he lived alone. First news of his death came from his former colleague, <strong>Rob Pike</strong>. The cause and exact time of death have not been disclosed.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Multics" class="bare">https://en.wikipedia.org/wiki/Multics</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/History_of_Unix" class="bare">https://en.wikipedia.org/wiki/History_of_Unix</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Ken_Thompson" class="bare">https://en.wikipedia.org/wiki/Ken_Thompson</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Dennis_Ritchie#C_and_Unix" class="bare">https://en.wikipedia.org/wiki/Dennis_Ritchie#C_and_Unix</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bsd-system-ⅴ-mach">2. BSD &amp; System Ⅴ &amp; Mach</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>BSD: Berkeley Software Distribution</p>
<div class="ulist">
<ul>
<li>
<p>A branch of Unix, Berkeley Unix</p>
</li>
<li>
<p>FreeBSD, OpenBSD, NetBSD</p>
</li>
<li>
<p>Darwin, macOS, iOS, watchOS, tvOS</p>
</li>
</ul>
</div>
</li>
<li>
<p>System Ⅴ</p>
<div class="ulist">
<ul>
<li>
<p>Solaris</p>
</li>
</ul>
</div>
</li>
<li>
<p>Mach <small>microkernel</small></p>
</li>
<li>
<p>Berkeley <strong>socket</strong>s</p>
</li>
<li>
<p>Bill Joy &amp; Chuck Haley</p>
<div class="ulist">
<ul>
<li>
<p><strong>vi</strong> text editor</p>
</li>
<li>
<p>Sun Microsystems, Inc</p>
</li>
<li>
<p><strong>Java</strong> programming language</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><small><em>Linux: I&#8217;m coming &#8230;&#8203;</em></small></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Berkeley_Software_Distribution" class="bare">https://en.wikipedia.org/wiki/Berkeley_Software_Distribution</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/History_of_the_Berkeley_Software_Distribution" class="bare">https://en.wikipedia.org/wiki/History_of_the_Berkeley_Software_Distribution</a>
re: <a href="https://en.wikipedia.org/wiki/UNIX_System_V" class="bare">https://en.wikipedia.org/wiki/UNIX_System_V</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Berkeley_sockets" class="bare">https://en.wikipedia.org/wiki/Berkeley_sockets</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="unix-philosophy">3. Unix philosophy</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="/assets/intro-linux/swiss-knife.jpg" alt="Swiss Knife" width="25%" height="25%"></span>
<span class="image"><img src="/assets/intro-linux/thompson-ritchie.jpg" alt="Thompson and Ritchie" width="25%" height="25%"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Unix philosophy, originated by Ken Thompson, is a set of cultural norms and philosophical approaches to <strong>minimalist</strong>, <strong>modular</strong> software development.</p>
</li>
<li>
<p>The Unix philosophy favors <strong>composability</strong> as opposed to <strong>monolithic</strong> design.</p>
</li>
<li>
<p>Peter H. Salusin A Quarter-Century of Unix (1994):</p>
<div class="ulist">
<ul>
<li>
<p>Write programs that <strong>do one thing and do it well</strong>.</p>
</li>
<li>
<p>Write programs to <strong>work together</strong>.</p>
</li>
<li>
<p>Write programs to handle <strong>text streams</strong>, because that is a universal interface.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Unix_philosophy" class="bare">https://en.wikipedia.org/wiki/Unix_philosophy</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gnulinuxlinux-distribution">4. GNU/Linux/Linux distribution</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="/assets/intro-linux/gnu.png" alt="GNU" width="15%" height="15%"></span>
<span class="image"><img src="/assets/intro-linux/linux.png" alt="Linux" width="15%" height="15%"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Debian (/ˈdɛbiən/) (community-supported) <sub>Debian-based</sub></p>
<div class="ulist">
<ul>
<li>
<p>Ubuntu (/ʊˈbʊntuː/ (Desktop, Server, IoT)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Red Hat Linux <sub>RPM-based</sub></p>
<div class="ulist">
<ul>
<li>
<p>Fedora Linux (community-supported)</p>
<div class="ulist">
<ul>
<li>
<p>CentOS Stream</p>
<div class="ulist">
<ul>
<li>
<p>Red Hat Enterprise Linux (RHEL, commercial open-source Linux distribution)</p>
<div class="ulist">
<ul>
<li>
<p>Amazon Linux 2</p>
</li>
<li>
<p>Oracle Linux (OL, formerly known as Oracle Enterprise Linux or OEL)</p>
</li>
<li>
<p><del>CentOS (community-supported, EOL!)</del></p>
</li>
<li>
<p>Rocky Linux</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>SUSE Linux <sub>RPM-based</sub></p>
<div class="ulist">
<ul>
<li>
<p>openSUSE (/ˈsuːsə, ˈsuːzə/) (community-supported)</p>
<div class="ulist">
<ul>
<li>
<p>SUSE Linux Enterprise (SLE)</p>
<div class="ulist">
<ul>
<li>
<p>SUSE Linux Enterprise Server (SLES, servers and mainframes)</p>
</li>
<li>
<p>SUSE Linux Enterprise Desktop (SLED, desktop for workstations and desktop computers)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Arch Linux <sub>Pacman-based</sub></p>
<div class="ulist">
<ul>
<li>
<p>Asahi Linux</p>
</li>
</ul>
</div>
</li>
<li>
<p>Android</p>
<div class="ulist">
<ul>
<li>
<p>HarmonyOS</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Linux" class="bare">https://en.wikipedia.org/wiki/Linux</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://wiki.linuxquestions.org/wiki/Distribution" class="bare">https://wiki.linuxquestions.org/wiki/Distribution</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Linux_distribution" class="bare">https://en.wikipedia.org/wiki/Linux_distribution</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/List_of_Linux_distributions" class="bare">https://en.wikipedia.org/wiki/List_of_Linux_distributions</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Comparison_of_Linux_distributions" class="bare">https://en.wikipedia.org/wiki/Comparison_of_Linux_distributions</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="debian-on-vm">5. Debian on VM</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="/assets/intro-linux/debian.jpg" alt="Debian" width="15%" height="15%">
</div>
</div>
<div class="sect2">
<h3 id="oracle-virtualboxvmware-player">5.1. Oracle VirtualBox/VMware Player</h3>
<div class="ulist">
<ul>
<li>
<p>Download VirtualBox:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.virtualbox.org/wiki/Downloads" class="bare">https://www.virtualbox.org/wiki/Downloads</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Download VMware Workstation Player:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://my.vmware.com/en/web/vmware/free#desktop_end_user_computing/vmware_workstation_player/12_0" class="bare">https://my.vmware.com/en/web/vmware/free#desktop_end_user_computing/vmware_workstation_player/12_0</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Getting Debian:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.debian.org/distrib/" class="bare">https://www.debian.org/distrib/</a></p>
</li>
<li>
<p><a href="https://www.debian.org/mirror/list" class="bare">https://www.debian.org/mirror/list</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Download CentOS:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.centos.org/download/" class="bare">https://www.centos.org/download/</a></p>
</li>
<li>
<p><a href="https://www.centos.org/download/mirrors/" class="bare">https://www.centos.org/download/mirrors/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="apt-advanced-package-tool">5.2. APT: Advanced Package Tool</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">#</span><span class="w"> </span>apt-get update    <span class="c"># yum makecache</span>
<span class="go">Hit:1 https://deb.nodesource.com/node_8.x stretch InRelease
Hit:2 https://download.docker.com/linux/debian stretch InRelease
</span><span class="c">...
</span><span class="go">Reading package lists... Done
</span><span class="gp">#</span><span class="w"> </span>apt-cache search nginx    <span class="c"># yum search</span>
<span class="go">nginx-small, powerful, scalable web/proxy server
</span><span class="gp">#</span><span class="w"> </span>apt-cache madison nginx   <span class="c"># yum --showduplicates search nginx</span>
<span class="go">nginx| 1.13.3-1~bpo9+1 | http://mirrors.163.com/debian stretch-backports/main amd64 Packages
nginx| 1.10.3-1+deb9u1 | http://mirrors.163.com/debian stretch/main amd64 Packages
</span><span class="gp">#</span><span class="w"> </span>apt-get <span class="nb">install </span>nginx     <span class="c"># yum install nginx</span>
<span class="go">Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
</span><span class="c">...</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="txt">apt-get update             -&gt;  apt update
apt-get upgrade            -&gt;  apt upgrade
apt-get dist-upgrade       -&gt;  apt full-upgrade
apt-get install package    -&gt;  apt install package
apt-get remove package     -&gt;  apt remove package
apt-get autoremove         -&gt;  apt autoremove
apt-cache search string    -&gt;  apt search string
apt-cache policy package   -&gt;  apt list -a package
apt-cache show package     -&gt;  apt show package
apt-cache showpkg package  -&gt;  apt show -a package</code></pre>
</div>
</div>
<div class="paragraph">
<p>re: <em>Debian package management</em>, <a href="https://www.debian.org/doc/manuals/debian-reference/ch02.en.html" class="bare">https://www.debian.org/doc/manuals/debian-reference/ch02.en.html</a></p>
</div>
<div class="paragraph">
<p>re: <em>Basics of the Debian package management system</em>, <a href="https://www.debian.org/doc/manuals/debian-faq/pkg-basics.en.html" class="bare">https://www.debian.org/doc/manuals/debian-faq/pkg-basics.en.html</a></p>
</div>
<div class="paragraph">
<p>re: <em>The Debian package management tools</em>, <a href="https://www.debian.org/doc/manuals/debian-faq/pkgtools.en.html" class="bare">https://www.debian.org/doc/manuals/debian-faq/pkgtools.en.html</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/APT_\(Debian\)">https://en.wikipedia.org/wiki/APT_(Debian)</a></p>
</div>
</div>
<div class="sect2">
<h3 id="shellsshputtyxshell">5.3. Shell/SSH/Putty/Xshell</h3>
<div class="imageblock">
<div class="content">
<img src="/assets/intro-linux/shell.png" alt="Shell" width="25%" height="25%">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span><span class="nb">touch </span>hello.sh
<span class="nv">$ </span><span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
&gt; #!/bin/bash
&gt;
&gt; echo "Hello GNU/Linux!"
&gt; EOF
#!/bin/bash
echo "Hello GNU/Linux!"
</span><span class="nv">$ </span><span class="sh">/bin/bash hello.sh
Hello GNU/Linux!
</span><span class="nv">$ </span><span class="sh">chmod +x hello.sh
</span><span class="nv">$ </span><span class="sh">./hello.sh
Hello GNU/Linux!
$</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Unix_shell" class="bare">https://en.wikipedia.org/wiki/Unix_shell</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell" class="bare">https://en.wikipedia.org/wiki/Bash_(Unix_shell</a>)</p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Secure_Shell" class="bare">https://en.wikipedia.org/wiki/Secure_Shell</a></p>
</div>
</div>
<div class="sect2">
<h3 id="bash-gnu-bourne-again-shell">5.4. Bash -GNU Bourne-Again SHell</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Bash</strong> is an <strong>sh</strong>-compatible command language interpreter that executes commands read from the standard input or from a file.</p>
</li>
<li>
<p>Bash also incorporates useful features from the Kornand C shells (<strong>ksh</strong> and <strong>csh</strong>).</p>
</li>
<li>
<p>A <em>login shell</em> is one whose first character of argument zero is a <code>-</code>, or one started with the <code>--login</code> option.</p>
</li>
<li>
<p>An <em>interactive shell</em> is one started without non-option arguments (unless <code>-s</code> is specified) and without the <code>-c</code> option whose standard input and error are both connected to terminals (as determined by isatty(3)), or one started with the <code>-i</code> option. <strong>PS1</strong> is set and <code>$-</code> includes <code>i</code> if bash is interactive, allowing a shell script or a startup file to test this state.</p>
</li>
<li>
<p>When you log in on a text console, or through SSH, or with <code>su -</code>, you get an <em>interactive login shell</em>.</p>
</li>
<li>
<p>When you start a shell in a terminal in an existing session (screen, X terminal, Emacsterminal buffer, a shell inside another, etc.), you get an <em>interactive, non-login shell</em>.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Bash Startup Files</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 42.8572%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">login</th>
<th class="tableblock halign-left valign-top">non-login</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>interactive</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/etc/profile</code></p>
<p class="tableblock"><code>~/.bash_profile</code></p>
<p class="tableblock"><code>~/.bash_login</code></p>
<p class="tableblock"><code>~/.profile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/.bashrc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>non-interactive</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/etc/profile</code></p>
<p class="tableblock"><code>~/.bash_profile</code></p>
<p class="tableblock"><code>~/.bash_login</code></p>
<p class="tableblock"><code>~/.profile</code></p>
<p class="tableblock"><code>if [-n "$BASH_ENV" ]; then . "$BASH_ENV"; fi</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>if [-n "$BASH_ENV" ]; then . "$BASH_ENV"; fi</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Typically, the <code>~/.bash_profile</code> contains the line: <code>if [ -f ~/.bashrc ]; then . ~ ~/.bashrc; fi</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>re: <a href="https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html" class="bare">https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://unix.stackexchange.com/questions/38175/difference-between-login-shell-and-non-login-shell" class="bare">https://unix.stackexchange.com/questions/38175/difference-between-login-shell-and-non-login-shell</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://askubuntu.com/questions/879364/differentiate-interactive-login-and-non-interactive-non-login-shell" class="bare">https://askubuntu.com/questions/879364/differentiate-interactive-login-and-non-interactive-non-login-shell</a></p>
</div>
<div class="paragraph">
<p><strong>Subshell</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <em>subshell</em> is a child process (fork-exec) launched by a shell (or shell script).</p>
</li>
<li>
<p>The <em>source</em> command can be used to load any functions file into the current shell script or a command prompt.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span><span class="nb">cat </span>hello.sh
<span class="c">#!/bin/bash</span>
<span class="nv">greeting</span><span class="o">=</span><span class="s2">"Hello GNU/Linux!"</span>
<span class="nv">$ </span>./hello.sh
<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$greeting</span>
...
<span class="nv">$ </span><span class="nb">.</span> ./hello.sh   <span class="c"># source ./hello.sh</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$greeting</span>
Hello GNU/Linux!</code></pre>
</div>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Fork%E2%80%93exec" class="bare">https://en.wikipedia.org/wiki/Fork%E2%80%93exec</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikibooks.org/wiki/A_Quick_Introduction_to_Unix/Shells_and_subshells" class="bare">https://en.wikibooks.org/wiki/A_Quick_Introduction_to_Unix/Shells_and_subshells</a></p>
</div>
<div class="paragraph">
<p>re: <a href="http://www.tldp.org/LDP/abs/html/subshells.html" class="bare">http://www.tldp.org/LDP/abs/html/subshells.html</a></p>
</div>
<div class="paragraph">
<p><strong>ENVIRONMENT</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>When a program is invoked it is given an array of strings called the <strong>environment</strong>. This is a list of name-value pairs, of the form name=value.</p>
</li>
<li>
<p>The shell provides several ways to manipulate the environment. On invocation, the shell scans its own environment and creates a parameter for each name found, automatically marking it for export to <em>child processes</em>. Executed commands inherit the environment. The <strong>export</strong> and <strong>declare -x</strong> commands allow parameters and functions to be added to and deleted from the environment. If the value of a parameter in the environment is modified, the new value becomes part of the environment, replacing the old. The environment inherited by any executed command consists of the shell&#8217;s initial environment, whose values may be modified in the shell, less any pairs removed by the <strong>unset</strong> command, plus any additions via the export and declare -x commands.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ greeting</span><span class="o">=</span><span class="s2">"Hello GNU/Linux!"</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$greeting</span>
Hello GNU/Linux!
<span class="nv">$ </span>vi hello.sh
<span class="nv">$ </span><span class="nb">cat </span>hello.sh
<span class="c">#!/bin/bash</span>
<span class="nb">echo</span> <span class="nv">$greeting</span>
<span class="nv">$ </span>./hello.sh
<span class="nv">$ </span><span class="nb">export </span>greeting
<span class="nv">$ </span>./hello.sh
Hello GNU/Linux!</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="filefile-system">5.5. File/File System</h3>
<div class="ulist">
<ul>
<li>
<p>"On a UNIX system, everything is a file; if something is not a file, it is a process."</p>
</li>
<li>
<p>Sorts of files</p>
<div class="ulist">
<ul>
<li>
<p><code>-</code> Regular file</p>
</li>
<li>
<p><code>d</code> Directory</p>
</li>
<li>
<p><code>l</code> Link</p>
</li>
<li>
<p><code>c</code> Character device</p>
</li>
<li>
<p><code>s</code> Socket</p>
</li>
<li>
<p><code>p</code> Named pipe</p>
</li>
<li>
<p><code>b</code> Block device</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="c"># mkdir mydir</span>
<span class="c"># touch myfile</span>
<span class="c"># ln -sf myfile mylink</span>
<span class="c"># ls -l</span>
total 4
drwxr-xr-x 2 root root 4096 Sep 10 17:10 mydir
<span class="nt">-rw-r--r--</span> 1 root root 0 Sep 10 17:10 myfile
lrwxrwxrwx 1 root root 6 Sep 10 17:10 mylink-&gt; myfile
<span class="c"># ls -l /var/run/*.sock</span>
srw-rw---- 1 root docker 0 Sep 10 11:01 /var/run/docker.sock
<span class="c"># ls -l /dev/sda1</span>
brw-rw---- 1 root disk 8, 1 Sep 10 11:01 /dev/sda1
<span class="c"># ls -l /dev/tty1</span>
crw--w---- 1 root <span class="nb">tty </span>4, 1 Sep 10 11:01 /dev/tty1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">/tmp<span class="nv">$ </span><span class="nb">df</span> <span class="nt">-h</span>
Filesystem      Size    Used    Avail     Use%   Mounted on
udev            986M       0    986M        0%   /dev
tmpfs           200M    6.1M    194M        4%   /run
/dev/sda1        19G    9.9G    7.9G       56%   /
tmpfs           998M       0    998M        0%   /dev/shm
tmpfs           5.0M       0    5.0M        0%   /run/lock
tmpfs           998M       0    998M        0%   /sys/fs/cgroup
tmpfs           200M       0    200M        0%   /run/user/1000
/tmp<span class="nv">$ </span><span class="nb">df</span> <span class="nb">.</span> <span class="nt">-h</span>
Filesystem      Size    Used    Avail     Use%   Mounted on
/dev/sda1        19G    9.9G    7.9G       56%   /
/tmp<span class="nv">$ </span><span class="nb">touch </span>foobar
/tmp<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-li</span> foobar
262826 - rw-r--r-- 1 x x 0 Sep 11 21:01 foobar</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">/tmp# <span class="nb">mkdir </span>mydir   <span class="c"># make a directory</span>
/tmp# <span class="nb">cd </span>mydir/     <span class="c"># change to mydir/</span>
/tmp/mydir# <span class="nb">pwd</span>     <span class="c"># print the work directory</span>
/tmp/mydir
/tmp/mydir# <span class="nb">touch </span>myfile    <span class="c"># make a file</span>
/tmp/mydir# <span class="nb">ls</span>      <span class="c"># list the currentydirectory contents</span>
myfile
/tmp/mydir# <span class="nb">mv </span>myfile myfile2   <span class="c"># rename myfileto myfile2</span>
/tmp/mydir# <span class="nb">rm </span>myfile2          <span class="c"># remove myfile2</span>
/tmp/mydir# <span class="nb">cd</span> ..               <span class="c"># change to parent dir</span>
/tmp# <span class="nb">rm</span> <span class="nt">-r</span> mydir/              <span class="c"># remove mydir</span>
/tmp# <span class="nb">ls</span>
/tmp#
/tmp# <span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> &gt; foo
&gt; Hello GNU/Linux!
&gt; EOF
/tmp# cat foo
Hello GNU/Linux!
/tmp# cp foo bar    # copy foo to bar
/tmp# ls
bar foo
/tmp# cat bar
Hello GNU/Linux!
/tmp# mkdir mydir
/tmp# mv foo bar mydir/     # move foo bar to mydir/
/tmp# ls
mydir
/tmp# cp -a mydir/ mydir2   # copy mydir/ to mydir2
/tmp# ls
mydir mydir2</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">/tmp# <span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> &gt; hello.sh
&gt; #!/bin/bash
&gt; echo "Hello GNU/Linux!"
&gt; EOF
/tmp# ls -l
total 4
-rw-r--r-- 1 root root 36 Sep 10 17:34 hello.sh
/tmp# chmod +x hello.sh
/tmp# ls -l
total 4
-rwxr-xr-x 1 root root 36 Sep 10 17:34 hello.sh
/tmp# ./hello.sh
Hello GNU/Linux!
/tmp# stat -c "%a" hello.sh
755
/tmp# chmod 777 hello.sh
/tmp# ls -l
total 4
-rwxrwxrwx 1 root root 36 Sep 10 17:34 hello.sh
/tmp# tail -n 1 hello.sh
echo "Hello GNU/Linux!"
/tmp# head -n 1 hello.sh
#!/bin/bash
/tmp# cat hello.sh
#!/bin/bash
echo "Hello GNU/Linux!"</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>/bin    Common programs, shared by the system, the system administrator and the users.
/boot   The startup files and the kernel, vmlinuz.
/dev    Contains references to all the CPU peripheral hardware, which are represented as files with special properties.
/etc    Most important system configuration files are in /etc, this directory contains data similar to those in the Control Panel in Windows
/home   Home directories of the common users.
/lib    Library files, includes files for all kinds of programs needed by the system and the users.
/mnt    Standard mount point for external file systems, e.g. a CD-ROM or a digital camera.
/opt    Typically contains extra and third party software.
/proc   A virtual file system containing information about system resources.
/root   The administrative user's home directory.
/sbin   Programs for use by the system and the system administrator.
/tmp    Temporary space for use by the system, cleaned upon reboot, so don't use this for saving any work!
/usr    Programs, libraries, documentation etc. for all user-related programs.
/var    Storage for all variable files and temporary files created by.</pre>
</div>
</div>
<div class="paragraph">
<p>re: <a href="http://www.tldp.org/LDP/intro-linux/html/sect_03_01.html" class="bare">http://www.tldp.org/LDP/intro-linux/html/sect_03_01.html</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/File_system" class="bare">https://en.wikipedia.org/wiki/File_system</a></p>
</div>
</div>
<div class="sect2">
<h3 id="process">5.6. Process</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span>ps <span class="nt">-f</span> <span class="nt">-C</span> nginx
UID        PID  PPID  C STIME TTY          TIME CMD
root      3972  3957  1 16:18 ?        00:00:00 nginx: master process nginx <span class="nt">-g</span> daemon off<span class="p">;</span>
systemd+  4012  3972  0 16:18 ?        00:00:00 nginx: worker process</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span>ps aux|grep nginx
root      3972  0.3  0.2  32424  4872 ?        Ss   16:18   0:00 nginx: master process nginx <span class="nt">-g</span> daemon off<span class="p">;</span>
systemd+  4012  0.0  0.1  32912  2492 ?        S    16:18   0:00 nginx: worker process
x         4026  0.0  0.0  12784   948 pts/2    S+   16:19   0:00 <span class="nb">grep</span> <span class="nt">--color</span><span class="o">=</span>auto nginx</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span>ps <span class="nt">-f</span> <span class="nt">-u</span> www-data
UID        PID  PPID  C STIME TTY          TIME CMD
www-data  6631  6630  0 21:43 ?        00:00:00 nginx: worker process
www-data  6632  6630  0 21:43 ?        00:00:00 nginx: worker process</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span>pstree <span class="nt">-p</span>
systemd<span class="o">(</span>1<span class="o">)</span>─┬─acpid<span class="o">(</span>422<span class="o">)</span>
           ├─agetty<span class="o">(</span>435<span class="o">)</span>
           ├─cron<span class="o">(</span>354<span class="o">)</span>
           ├─dbus-daemon<span class="o">(</span>360<span class="o">)</span>
           ├─dhclient<span class="o">(</span>477<span class="o">)</span>
           ├─irqbalance<span class="o">(</span>358<span class="o">)</span>
           ├─ntpd<span class="o">(</span>446<span class="o">)</span>───<span class="o">{</span>ntpd<span class="o">}(</span>455<span class="o">)</span>
           ├─rsyslogd<span class="o">(</span>359<span class="o">)</span>─┬─<span class="o">{</span><span class="k">in</span>:imklog<span class="o">}(</span>403<span class="o">)</span>
           │               ├─<span class="o">{</span><span class="k">in</span>:imuxsock<span class="o">}(</span>402<span class="o">)</span>
           │               └─<span class="o">{</span>rs:main Q:Reg<span class="o">}(</span>404<span class="o">)</span>
           ├─sshd<span class="o">(</span>353<span class="o">)</span>───sshd<span class="o">(</span>1360<span class="o">)</span>───sshd<span class="o">(</span>1369<span class="o">)</span>───bash<span class="o">(</span>1370<span class="o">)</span>───pstree<span class="o">(</span>3168<span class="o">)</span>
           ├─systemd<span class="o">(</span>1362<span class="o">)</span>───<span class="o">(</span>sd-pam<span class="o">)(</span>1363<span class="o">)</span>
           ├─systemd-journal<span class="o">(</span>197<span class="o">)</span>
           ├─systemd-logind<span class="o">(</span>417<span class="o">)</span>
           └─systemd-udevd<span class="o">(</span>211<span class="o">)</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="c"># pstree -p</span>
init<span class="o">(</span>1<span class="o">)</span>─┬─acpid<span class="o">(</span>2155<span class="o">)</span>
        ├─auditd<span class="o">(</span>2052<span class="o">)</span>─┬─audispd<span class="o">(</span>2054<span class="o">)</span>───<span class="o">{</span>audispd<span class="o">}(</span>2055<span class="o">)</span>
        │              └─<span class="o">{</span>auditd<span class="o">}(</span>2053<span class="o">)</span>
        ├─dhclient<span class="o">(</span>2001<span class="o">)</span>
        ├─events/0<span class="o">(</span>4<span class="o">)</span>

        ├─klogd<span class="o">(</span>2087<span class="o">)</span>
        ├─ksoftirqd/0<span class="o">(</span>3<span class="o">)</span>
        ├─kthread<span class="o">(</span>6<span class="o">)</span>─┬─aio/0<span class="o">(</span>245<span class="o">)</span>
        │            ├─ata/0<span class="o">(</span>498<span class="o">)</span>

        ├─smartd<span class="o">(</span>2338<span class="o">)</span>
        ├─sshd<span class="o">(</span>2244<span class="o">)</span>───sshd<span class="o">(</span>2395<span class="o">)</span>───sshd<span class="o">(</span>2402<span class="o">)</span>───bash<span class="o">(</span>2403<span class="o">)</span>───su<span class="o">(</span>2435<span class="o">)</span>───bash<span class="o">(</span>2436<span class="o">)</span>───pstree<span class="o">(</span>2519<span class="o">)</span>
        ├─syslogd<span class="o">(</span>2084<span class="o">)</span>
        └─udevd<span class="o">(</span>575<span class="o">)</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="usergroup">5.7. User/Group</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span><span class="nb">touch </span>foo
<span class="nv">$ </span><span class="nb">sudo touch </span>bar
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span>
total 0
<span class="nt">-rw-r--r--</span> 1 root root 0 Sep 11 21:57 bar
<span class="nt">-rw-r--r--</span> 1 x    x    0 Sep 11 21:57 foo
<span class="nv">$ </span><span class="nb">chown </span>x bar
<span class="nb">chown</span>: changing ownership of <span class="s1">'bar'</span>: Operation not permitted
<span class="nv">$ </span><span class="nb">sudo chown </span>x bar
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span>
total 0
<span class="nt">-rw-r--r--</span> 1 x root 0 Sep 11 21:57 bar
<span class="nt">-rw-r--r--</span> 1 x x    0 Sep 11 21:57 foo
<span class="nv">$ </span><span class="nb">sudo chgrp </span>x bar
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span>
total 0
<span class="nt">-rw-r--r--</span> 1 x x 0 Sep 11 21:57 bar
<span class="nt">-rw-r--r--</span> 1 x x 0 Sep 11 21:57 foo<span class="err">$</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span>ps <span class="nt">-f</span> <span class="nt">-C</span> nginx,ps
UID        PID  PPID  C STIME TTY          TIME CMD
root      6630     1  0 21:43 ?        00:00:00 nginx: master process nginx
www-data  6631  6630  0 21:43 ?        00:00:00 nginx: worker process
www-data  6632  6630  0 21:43 ?        00:00:00 nginx: worker process
x         6872  3315  0 22:02 pts/1    00:00:00 ps <span class="nt">-f</span> <span class="nt">-C</span> nginx,ps
<span class="nv">$ </span><span class="nb">sudo touch </span>foobar
<span class="o">[</span><span class="nb">sudo</span><span class="o">]</span> password <span class="k">for </span>x:
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'Hello GNU/Linux!'</span> <span class="o">&gt;</span> foobar
<span class="nt">-bash</span>: foobar: Permission denied
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> foobar
<span class="nt">-rw-r--r--</span> 1 root root 0 Sep 12 13:56 foobar
<span class="nv">$ </span>su
Password:
<span class="c"># echo 'Hello GNU/Linux!' &gt; foobar</span>
<span class="c"># exit</span>
<span class="nb">exit</span>
<span class="nv">$ </span><span class="nb">id
</span><span class="nv">uid</span><span class="o">=</span>1000<span class="o">(</span>x<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>1000<span class="o">(</span>x<span class="o">)</span> <span class="nb">groups</span><span class="o">=</span>1000<span class="o">(</span>x<span class="o">)</span>,24<span class="o">(</span>cdrom<span class="o">)</span>,25<span class="o">(</span>floppy<span class="o">)</span>,27<span class="o">(</span><span class="nb">sudo</span><span class="o">)</span>,29<span class="o">(</span>audio<span class="o">)</span>,30<span class="o">(</span>dip<span class="o">)</span>,44<span class="o">(</span>video<span class="o">)</span>,46<span class="o">(</span>plugdev<span class="o">)</span>,108<span class="o">(</span>netdev<span class="o">)</span>,999<span class="o">(</span>docker<span class="o">)</span>
<span class="nv">$ </span><span class="nb">sudo grep</span> <span class="s1">'%sudo'</span> /etc/sudoers
%sudo   <span class="nv">ALL</span><span class="o">=(</span>ALL:ALL<span class="o">)</span> ALL<span class="err">$</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">~# <span class="nb">cd</span> ~xianyu
<span class="nt">-su</span>: <span class="nb">cd</span>: ~xianyu: No such file or directory
~# useradd <span class="nt">-s</span> /bin/bash <span class="nt">-u</span> 2000 <span class="nt">-c</span> <span class="s2">"Hello GNU/Linux!"</span> <span class="nt">-m</span> xianyu
~# <span class="nb">cd</span> ~xianyu/
/home/xianyu# <span class="nb">grep</span> <span class="s1">'xianyu'</span> /etc/passwd
xianyu:x:2000:2000:Hello GNU/Linux!:/home/xianyu:/bin/bash
/home/xianyu# <span class="nb">id </span>xianyu
<span class="nv">uid</span><span class="o">=</span>2000<span class="o">(</span>xianyu<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>2000<span class="o">(</span>xianyu<span class="o">)</span> <span class="nb">groups</span><span class="o">=</span>2000<span class="o">(</span>xianyu<span class="o">)</span>
/home/xianyu# su - xianyu
~<span class="nv">$ </span><span class="nb">pwd</span>
/home/xianyu
~<span class="nv">$ </span><span class="nb">exit
logout</span>
/home/xianyu# <span class="nb">cd</span>
~# userdel <span class="nt">-r</span> xianyu
userdel: xianyu mail spool <span class="o">(</span>/var/mail/xianyu<span class="o">)</span> not found
~# <span class="nb">cd</span> ~xianyu
<span class="nt">-su</span>: <span class="nb">cd</span>: ~xianyu: No such file or directory</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="file-system-permissions">5.8. File System Permissions</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="text">Symbolic Notation   Numeric Notation    English
----------          0000                no permissions
-rwx------          0700                read, write, &amp; execute only for owner
-rwxrwx---          0770                read, write, &amp; execute for owner and group
-rwxrwxrwx          0777                read, write, &amp; execute for owner, group and others SECURITY RISK
---x--x--x          0111                execute
--w--w--w-          0222                write
--wx-wx-wx          0333                write &amp; execute
-r--r--r--          0444                read
-r-xr-xr-x          0555                read &amp; execute
-rw-rw-rw-          0666                read &amp; write
-rwxr-----          0740                owner can read, write, &amp; execute; group can only read; others have no permissions</code></pre>
</div>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/File_system_permissions" class="bare">https://en.wikipedia.org/wiki/File_system_permissions</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Umask" class="bare">https://en.wikipedia.org/wiki/Umask</a></p>
</div>
</div>
<div class="sect2">
<h3 id="signal-ipcinter-process-communication">5.9. Signal <small>(IPC=Inter-process communication)</small></h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span><span class="nb">kill</span> <span class="nt">-l</span>
 1<span class="o">)</span> SIGHUP          2<span class="o">)</span> SIGINT<span class="o">(</span>Ctrl-C<span class="o">)</span>      3<span class="o">)</span> SIGQUIT<span class="o">(</span>Ctrl-<span class="se">\)</span>    4<span class="o">)</span> SIGILL            5<span class="o">)</span> SIGTRAP
 6<span class="o">)</span> SIGABRT         7<span class="o">)</span> SIGBUS              8<span class="o">)</span> SIGFPE             9<span class="o">)</span> SIGKILL          10<span class="o">)</span> SIGUSR1
11<span class="o">)</span> SIGSEGV        12<span class="o">)</span> SIGUSR2            13<span class="o">)</span> SIGPIPE           14<span class="o">)</span> SIGALRM          15<span class="o">)</span> SIGTERM
16<span class="o">)</span> SIGSTKFLT      17<span class="o">)</span> SIGCHLD            18<span class="o">)</span> SIGCONT           19<span class="o">)</span> SIGSTOP<span class="o">(</span>Ctrl-Z<span class="o">)</span>  20<span class="o">)</span> SIGTSTP
21<span class="o">)</span> SIGTTIN        22<span class="o">)</span> SIGTTOU            23<span class="o">)</span> SIGURG            24<span class="o">)</span> SIGXCPU          25<span class="o">)</span> SIGXFSZ
26<span class="o">)</span> SIGVTALRM      27<span class="o">)</span> SIGPROF            28<span class="o">)</span> SIGWINCH          29<span class="o">)</span> SIGIO            30<span class="o">)</span> SIGPWR
31<span class="o">)</span> SIGSYS         34<span class="o">)</span> SIGRTMIN           35<span class="o">)</span> SIGRTMIN+1        36<span class="o">)</span> SIGRTMIN+2       37<span class="o">)</span> SIGRTMIN+3
38<span class="o">)</span> SIGRTMIN+4     39<span class="o">)</span> SIGRTMIN+5         40<span class="o">)</span> SIGRTMIN+6        41<span class="o">)</span> SIGRTMIN+7       42<span class="o">)</span> SIGRTMIN+8
43<span class="o">)</span> SIGRTMIN+9     44<span class="o">)</span> SIGRTMIN+10        45<span class="o">)</span> SIGRTMIN+11       46<span class="o">)</span> SIGRTMIN+12      47<span class="o">)</span> SIGRTMIN+13
48<span class="o">)</span> SIGRTMIN+14    49<span class="o">)</span> SIGRTMIN+15        50<span class="o">)</span> SIGRTMAX-14       51<span class="o">)</span> SIGRTMAX-13      52<span class="o">)</span> SIGRTMAX-12
53<span class="o">)</span> SIGRTMAX-11    54<span class="o">)</span> SIGRTMAX-10        55<span class="o">)</span> SIGRTMAX-9        56<span class="o">)</span> SIGRTMAX-8       57<span class="o">)</span> SIGRTMAX-7
58<span class="o">)</span> SIGRTMAX-6     59<span class="o">)</span> SIGRTMAX-5         60<span class="o">)</span> SIGRTMAX-4        61<span class="o">)</span> SIGRTMAX-3       62<span class="o">)</span> SIGRTMAX-2
63<span class="o">)</span> SIGRTMAX-1     64<span class="o">)</span> SIGRTMAX</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="standard-iopipeline">5.10. Standard IO/Pipeline</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> /dev/std<span class="k">*</span>
lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stderr -&gt; /proc/self/fd/2
lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stdin -&gt; /proc/self/fd/0
lrwxrwxrwx 1 root root 15 Sep 12 09:28 /dev/stdout -&gt; /proc/self/fd/1
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> /proc/self/fd/<span class="o">{</span>0,1,2<span class="o">}</span>
lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/0 -&gt; /dev/pts/0
lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/1 -&gt; /dev/pts/0
lrwx------ 1 x x 64 Sep 12 20:15 /proc/self/fd/2 -&gt; /dev/pts/0</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span><span class="nb">cat </span>hello.sh
<span class="c">#!/bin/bash</span>
<span class="nb">echo</span> <span class="s2">"Hello GNU/Linux!"</span>
foo bar
<span class="nv">$ </span>./hello.sh
Hello GNU/Linux!
./hello.sh: line 3: foo: <span class="nb">command </span>not found
<span class="nv">$ </span>./hello.sh 2&gt; err 1&gt; out
<span class="nv">$ </span><span class="nb">cat </span>err
./hello.sh: line 3: foo: <span class="nb">command </span>not found
<span class="nv">$ </span><span class="nb">cat </span>out
Hello GNU/Linux!
<span class="nv">$ </span>./hello.sh <span class="o">&gt;</span> allblue 2&gt;&amp;1
<span class="nv">$ </span><span class="nb">cat </span>allblue
Hello GNU/Linux!
./hello.sh: line 3: foo: <span class="nb">command </span>not found
<span class="nv">$ </span><span class="nb">cat</span> &lt; out | xargs <span class="nb">echo
</span>Hello GNU/Linux!</code></pre>
</div>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Standard_streams" class="bare">https://en.wikipedia.org/wiki/Standard_streams</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Redirection_(computing" class="bare">https://en.wikipedia.org/wiki/Redirection_(computing</a>)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/assets/intro-linux/io-pipeline.png" alt="Standard IO/Pipeline" width="25%" height="25%">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>In Unix-like computer operating systems, a pipeline is a sequence of processes chained together by their standard streams, so that the output of each process (stdout) feeds directly as input (stdin) to the next one.</p>
</li>
<li>
<p>The concept of pipelines was championed by <strong>Douglas McIlroy</strong> at Unix&#8217;s ancestral home of <strong>Bell Labs</strong>, during the development of Unix, shaping its toolbox philosophy.</p>
</li>
<li>
<p>Each process takes input from the previous process and produces output for the next process via standard streams. Each "|" tells the shell to connect the standard output of the command on the left to the standard input of the command on the right by an <strong>inter-process communication</strong> mechanism called an (anonymous) pipe, implemented in the operating system. Pipes are <strong>unidirectional</strong>; data flows through the pipeline from left to right.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>re: <a href="https://en.wikipedia.org/wiki/Pipeline_%28Unix%29" class="bare">https://en.wikipedia.org/wiki/Pipeline_%28Unix%29</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nv">$ </span>man 1 man | less
<span class="nv">$ </span>git rebase –-help | more</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="vim-god-of-the-text-editors-emacs-a-text-editor-of-the-gods">5.11. Vim: God of the text editors / Emacs: a text editor of the Gods</h3>
<div class="ulist">
<ul>
<li>
<p>Two modes: <strong>command mode</strong> and <strong>insert mode</strong></p>
</li>
<li>
<p>Commands that switch the editor to insert mode</p>
<div class="listingblock">
<div class="content">
<pre>  a will append: it moves the cursor one position to the right before switching to insert mode
  i will insert
  o will insert a blank line under the current cursor position and move the cursor to that line.</pre>
</div>
</div>
</li>
<li>
<p>Moving through the text</p>
<div class="listingblock">
<div class="content">
<pre>  h to move the cursor to the left
  l to move it to the right
  k to move up
  j to move down</pre>
</div>
</div>
</li>
<li>
<p>Basic operations</p>
<div class="ulist">
<ul>
<li>
<p><code>n dd</code> will delete n lines starting from the current cursor position.</p>
</li>
<li>
<p><code>n dw</code> will delete n words at the right side of the cursor.</p>
</li>
<li>
<p><code>x</code> will delete the character on which the cursor is positioned</p>
</li>
<li>
<p><code>:n</code> moves to line n of the file.</p>
</li>
<li>
<p><code>:w</code> will save (write) the file</p>
</li>
<li>
<p><code>:q</code> will exit the editor.</p>
</li>
<li>
<p><code>:q!</code> forces the exit when you want to quit a file containing unsaved changes.</p>
</li>
<li>
<p><code>:wq</code> will save and exit</p>
</li>
<li>
<p><code>:w newfile</code> will save the text to newfile.</p>
</li>
<li>
<p><code>:wq!</code> overrides read-only permission (if you have the permission to override permissions, for instance when you are using the root account.</p>
</li>
<li>
<p><code>/astring</code> will search the string in the file and position the cursor on the first match below its position.</p>
</li>
<li>
<p><code>:1, $s/word/anotherword/g</code> will replace word with anotherword throughout the file.</p>
</li>
<li>
<p><code>yy</code> will copy a block of text.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>re: <a href="https://vim.org" class="bare">https://vim.org</a></p>
</div>
<div class="paragraph">
<p><em>~/.vimrc</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vimrc">" Display line number
set number

" Disable VIM swap and backup
set nobackup
set nowritebackup
set noswapfile

" Indenting source code
set expandtab
set tabstop=4
set shiftwidth=4

autocmd FileType make setlocal noexpandtab
autocmd FileType js   set shiftwidth=2

" UTF-8
set encoding=utf-8
set fileencoding=utf-8
set fileencodings=ucs-bom,utf-8,chinese
set ambiwidth=double

" syntax
syntax on

set showmatch

" backspace

set backspace=indent,eol,start</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="network-configuration">6. Network Configuration</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
DHCP assigns IP addresses dynamically from a defined pool. By configuring static IPs outside the DHCP pool (which starts from 128 on VMWare Player by default, like <code>range 192.168.42.128 192.168.42.254;</code> in <code>vmnetdhcp.conf</code>), the VM will always use those specific addresses regardless of DHCP activity.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Debian</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="conf"><span class="c"># /etc/network/interfaces
</span><span class="n">auto</span> <span class="n">eth0</span>
<span class="n">allow</span>-<span class="n">hotplug</span> <span class="n">eth0</span>
<span class="n">iface</span> <span class="n">eth0</span> <span class="n">inet</span> <span class="n">static</span>
    <span class="n">address</span> <span class="m">192</span>.<span class="m">168</span>.<span class="m">1</span>.<span class="m">42</span>/<span class="m">24</span>
    <span class="n">gateway</span> <span class="m">192</span>.<span class="m">168</span>.<span class="m">1</span>.<span class="m">1</span>

<span class="n">iface</span> <span class="n">eth0</span> <span class="n">inet</span> <span class="n">static</span>
    <span class="n">address</span> <span class="m">192</span>.<span class="m">168</span>.<span class="m">1</span>.<span class="m">43</span>/<span class="m">24</span>

<span class="n">iface</span> <span class="n">eth0</span> <span class="n">inet</span> <span class="n">static</span>
    <span class="n">address</span> <span class="m">192</span>.<span class="m">168</span>.<span class="m">1</span>.<span class="m">44</span>/<span class="m">24</span>

<span class="c"># adding IP addresses from different subnets is also possible
</span><span class="n">iface</span> <span class="n">eth0</span> <span class="n">inet</span> <span class="n">static</span>
    <span class="n">address</span> <span class="m">10</span>.<span class="m">10</span>.<span class="m">10</span>.<span class="m">14</span>/<span class="m">24</span>

<span class="c"># minxing static and dynamic is also possible
</span><span class="n">iface</span> <span class="n">eth0</span> <span class="n">inet</span> <span class="n">dhcp</span></code></pre>
</div>
</div>
</li>
<li>
<p>Centos</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="conf"><span class="c"># /etc/sysconfig/network-scripts/ifcfg-ens160
</span><span class="n">TYPE</span>=<span class="n">Ethernet</span>
<span class="n">PROXY_METHOD</span>=<span class="n">none</span>
<span class="n">BROWSER_ONLY</span>=<span class="n">no</span>
<span class="n">BOOTPROTO</span>=<span class="n">dhcp</span>
<span class="c"># BOOTPROTO=none
</span><span class="n">DEFROUTE</span>=<span class="n">yes</span>
<span class="n">IPV4_FAILURE_FATAL</span>=<span class="n">no</span>
<span class="n">IPV6INIT</span>=<span class="n">yes</span>
<span class="n">IPV6_AUTOCONF</span>=<span class="n">yes</span>
<span class="n">IPV6_DEFROUTE</span>=<span class="n">yes</span>
<span class="n">IPV6_FAILURE_FATAL</span>=<span class="n">no</span>
<span class="n">IPV6_ADDR_GEN_MODE</span>=<span class="n">stable</span>-<span class="n">privacy</span>
<span class="n">NAME</span>=<span class="n">ens160</span>
<span class="n">UUID</span>=<span class="n">ca4c7490</span>-<span class="n">a875</span>-<span class="m">448</span><span class="n">f</span>-<span class="n">af1e</span>-<span class="m">25420</span><span class="n">a9853ff</span>
<span class="n">DEVICE</span>=<span class="n">ens160</span>
<span class="n">ONBOOT</span>=<span class="n">yes</span>
<span class="c"># minxing DHCP with a secondary static IP
</span><span class="n">IPADDR</span>=<span class="m">192</span>.<span class="m">168</span>.<span class="m">56</span>.<span class="m">132</span>
<span class="n">PREFIX</span>=<span class="m">24</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>IP-aliases are an obsolete way to manage multiple IP-addresses/masks per interface. Newer tools such as iproute2 support multiple address/prefixes per interface, but aliases are still supported for backwards compatibility.</p>
</div>
<div class="paragraph">
<p>re: <a href="https://docs.kernel.org/networking/alias.html" class="bare">https://docs.kernel.org/networking/alias.html</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>re: <a href="https://wiki.debian.org/NetworkConfiguration" class="bare">https://wiki.debian.org/NetworkConfiguration</a></p>
</div>
<div class="paragraph">
<p>re: <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/ch-configuring_ip_networking" class="bare">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/ch-configuring_ip_networking</a></p>
</div>
</div>
</div>
<style>
  .utterances {
      max-width: 100%;
  }
</style>
<script src="https://utteranc.es/client.js"
        repo="looogos/utterances"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

</div>
</article>
    </main>
    <footer class="c-footer">
  <div class="c-footer-license">
    <span>Article licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></span>
  </div>
  
  <details class="c-footer-extralinks" open>
    <summary class="c-footer-extralinks-summary">Extral Links</summary>
    <div class="c-footer-extralinks-content">
      
      <a href="https://jekyllrb.com/">Jekyll</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://shopify.github.io/liquid/">Liquid</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://docs.asciidoctor.org/">Asciidoctor</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://github.com/qqbuby/">GitHub</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="/feed.xml">RSS</a>
      
      
    </div>
  </details>
  
</footer>

    <script src="/assets/js/nav.js" defer></script>
    <script src="/assets/js/heading-anchors.js" defer></script>
    <!-- https://cdn.jsdelivr.net/gh/lurongkai/anti-baidu/js/anti-baidu-latest.min.js -->    
    <script type="text/javascript" src="/js/anti-baidu.min.js" charset="UTF-8"></script>
  </body>
</html>
