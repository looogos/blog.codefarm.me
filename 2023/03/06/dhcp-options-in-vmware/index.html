<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>DHCP Options in VMware | CODE FARM</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="DHCP Options in VMware" />
<meta property="og:locale" content="en" />
<meta name="description" content="Edit vmnetdhcp.conf at %ProgramData%\VMware\vmnetdhcp.conf The following is a sample which was reconfigured the DHCP subnet from 192.168.227.0/24 to 192.168.91.0/24. # # Configuration file for VMware port of ISC 2.0 release running on # Windows. # # This file is generated by the VMware installation procedure; it # is edited each time you add or delete a VMware host-only network # adapter. # # We set domain-name-servers to make some clients happy # (dhclient as configued in SuSE, TurboLinux, etc.). # We also supply a domain name to make pump (Red Hat 6.x) happy. # allow unknown-clients; default-lease-time 1800; # default is 30 minutes max-lease-time 7200; # default is 2 hours # Virtual ethernet segment 1 # Added at 03/06/23 10:26:32 subnet 192.168.211.0 netmask 255.255.255.0 { range 192.168.211.128 192.168.211.254; # default allows up to 125 VM&#39;s option broadcast-address 192.168.211.255; option domain-name-servers 192.168.211.1; option domain-name &quot;localdomain&quot;; default-lease-time 1800; max-lease-time 7200; } host VMnet1 { hardware ethernet 00:50:56:C0:00:01; fixed-address 192.168.211.1; option domain-name-servers 0.0.0.0; option domain-name &quot;&quot;; } # End # Virtual ethernet segment 8 # Added at 03/06/23 10:26:32 subnet 192.168.91.0 netmask 255.255.255.0 { range 192.168.91.128 192.168.91.254; # default allows up to 125 VM&#39;s option broadcast-address 192.168.91.255; option domain-name-servers 192.168.91.2; option domain-name &quot;localdomain&quot;; option netbios-name-servers 192.168.91.2; option routers 192.168.91.2; default-lease-time 1800; max-lease-time 7200; } host VMnet8 { hardware ethernet 00:50:56:C0:00:08; fixed-address 192.168.91.1; option domain-name-servers 0.0.0.0; option domain-name &quot;&quot;; option routers 0.0.0.0; } # End Edit vmnetnat.conf at %ProgramData%\VMware\vmnetnat.conf # Windows NAT configuration file [host] # NAT gateway address ip = 192.168.91.2/24 hostMAC = 00:50:56:C0:00:08 # enable configuration; disabled by default for security reasons #configport = 33445 # VMnet device if not specified on command line device = vmnet8 ... Edit startup parametes of VMware DHCP Service at HKLM\System\CurrentControlSet\services\VMnetDHCP\Parameters\VirtualEthernetSegments\8\HostIpAddress. Please note that address has reverse HEX notation. e.g. [1] 192.168.1.1 is reversed to 1.1.168.192 and key value is 0101A8C0 According to the above sample, we should update this value to 15ba8c0, which is 192.168.91.1. Now, we need to restart the both the VMware DHCP Service and VMware NAT Service using Windows Services Manager. References References [1] http://randronov.blogspot.com/2015/10/vmware-error-vmnetdhcp-no-subnet.html [2] https://sanbarrow.com/network/commandlineguide2vnets.html" />
<meta property="og:description" content="Edit vmnetdhcp.conf at %ProgramData%\VMware\vmnetdhcp.conf The following is a sample which was reconfigured the DHCP subnet from 192.168.227.0/24 to 192.168.91.0/24. # # Configuration file for VMware port of ISC 2.0 release running on # Windows. # # This file is generated by the VMware installation procedure; it # is edited each time you add or delete a VMware host-only network # adapter. # # We set domain-name-servers to make some clients happy # (dhclient as configued in SuSE, TurboLinux, etc.). # We also supply a domain name to make pump (Red Hat 6.x) happy. # allow unknown-clients; default-lease-time 1800; # default is 30 minutes max-lease-time 7200; # default is 2 hours # Virtual ethernet segment 1 # Added at 03/06/23 10:26:32 subnet 192.168.211.0 netmask 255.255.255.0 { range 192.168.211.128 192.168.211.254; # default allows up to 125 VM&#39;s option broadcast-address 192.168.211.255; option domain-name-servers 192.168.211.1; option domain-name &quot;localdomain&quot;; default-lease-time 1800; max-lease-time 7200; } host VMnet1 { hardware ethernet 00:50:56:C0:00:01; fixed-address 192.168.211.1; option domain-name-servers 0.0.0.0; option domain-name &quot;&quot;; } # End # Virtual ethernet segment 8 # Added at 03/06/23 10:26:32 subnet 192.168.91.0 netmask 255.255.255.0 { range 192.168.91.128 192.168.91.254; # default allows up to 125 VM&#39;s option broadcast-address 192.168.91.255; option domain-name-servers 192.168.91.2; option domain-name &quot;localdomain&quot;; option netbios-name-servers 192.168.91.2; option routers 192.168.91.2; default-lease-time 1800; max-lease-time 7200; } host VMnet8 { hardware ethernet 00:50:56:C0:00:08; fixed-address 192.168.91.1; option domain-name-servers 0.0.0.0; option domain-name &quot;&quot;; option routers 0.0.0.0; } # End Edit vmnetnat.conf at %ProgramData%\VMware\vmnetnat.conf # Windows NAT configuration file [host] # NAT gateway address ip = 192.168.91.2/24 hostMAC = 00:50:56:C0:00:08 # enable configuration; disabled by default for security reasons #configport = 33445 # VMnet device if not specified on command line device = vmnet8 ... Edit startup parametes of VMware DHCP Service at HKLM\System\CurrentControlSet\services\VMnetDHCP\Parameters\VirtualEthernetSegments\8\HostIpAddress. Please note that address has reverse HEX notation. e.g. [1] 192.168.1.1 is reversed to 1.1.168.192 and key value is 0101A8C0 According to the above sample, we should update this value to 15ba8c0, which is 192.168.91.1. Now, we need to restart the both the VMware DHCP Service and VMware NAT Service using Windows Services Manager. References References [1] http://randronov.blogspot.com/2015/10/vmware-error-vmnetdhcp-no-subnet.html [2] https://sanbarrow.com/network/commandlineguide2vnets.html" />
<link rel="canonical" href="https://blog.codefarm.me/2023/03/06/dhcp-options-in-vmware/" />
<meta property="og:url" content="https://blog.codefarm.me/2023/03/06/dhcp-options-in-vmware/" />
<meta property="og:site_name" content="CODE FARM" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-03-06T14:47:48+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="DHCP Options in VMware" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-03-06T14:47:48+08:00","datePublished":"2023-03-06T14:47:48+08:00","description":"Edit vmnetdhcp.conf at %ProgramData%\\VMware\\vmnetdhcp.conf The following is a sample which was reconfigured the DHCP subnet from 192.168.227.0/24 to 192.168.91.0/24. # # Configuration file for VMware port of ISC 2.0 release running on # Windows. # # This file is generated by the VMware installation procedure; it # is edited each time you add or delete a VMware host-only network # adapter. # # We set domain-name-servers to make some clients happy # (dhclient as configued in SuSE, TurboLinux, etc.). # We also supply a domain name to make pump (Red Hat 6.x) happy. # allow unknown-clients; default-lease-time 1800; # default is 30 minutes max-lease-time 7200; # default is 2 hours # Virtual ethernet segment 1 # Added at 03/06/23 10:26:32 subnet 192.168.211.0 netmask 255.255.255.0 { range 192.168.211.128 192.168.211.254; # default allows up to 125 VM&#39;s option broadcast-address 192.168.211.255; option domain-name-servers 192.168.211.1; option domain-name &quot;localdomain&quot;; default-lease-time 1800; max-lease-time 7200; } host VMnet1 { hardware ethernet 00:50:56:C0:00:01; fixed-address 192.168.211.1; option domain-name-servers 0.0.0.0; option domain-name &quot;&quot;; } # End # Virtual ethernet segment 8 # Added at 03/06/23 10:26:32 subnet 192.168.91.0 netmask 255.255.255.0 { range 192.168.91.128 192.168.91.254; # default allows up to 125 VM&#39;s option broadcast-address 192.168.91.255; option domain-name-servers 192.168.91.2; option domain-name &quot;localdomain&quot;; option netbios-name-servers 192.168.91.2; option routers 192.168.91.2; default-lease-time 1800; max-lease-time 7200; } host VMnet8 { hardware ethernet 00:50:56:C0:00:08; fixed-address 192.168.91.1; option domain-name-servers 0.0.0.0; option domain-name &quot;&quot;; option routers 0.0.0.0; } # End Edit vmnetnat.conf at %ProgramData%\\VMware\\vmnetnat.conf # Windows NAT configuration file [host] # NAT gateway address ip = 192.168.91.2/24 hostMAC = 00:50:56:C0:00:08 # enable configuration; disabled by default for security reasons #configport = 33445 # VMnet device if not specified on command line device = vmnet8 ... Edit startup parametes of VMware DHCP Service at HKLM\\System\\CurrentControlSet\\services\\VMnetDHCP\\Parameters\\VirtualEthernetSegments\\8\\HostIpAddress. Please note that address has reverse HEX notation. e.g. [1] 192.168.1.1 is reversed to 1.1.168.192 and key value is 0101A8C0 According to the above sample, we should update this value to 15ba8c0, which is 192.168.91.1. Now, we need to restart the both the VMware DHCP Service and VMware NAT Service using Windows Services Manager. References References [1] http://randronov.blogspot.com/2015/10/vmware-error-vmnetdhcp-no-subnet.html [2] https://sanbarrow.com/network/commandlineguide2vnets.html","headline":"DHCP Options in VMware","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.codefarm.me/2023/03/06/dhcp-options-in-vmware/"},"url":"https://blog.codefarm.me/2023/03/06/dhcp-options-in-vmware/"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/style.css"><!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SN88FJ18E5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-SN88FJ18E5');
    </script></head>
  <body>
    <header class="c-header">
  <div class="o-container">
    <a class="c-header-title" href="/">CODE FARM</a>
    <button class="c-header-nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
      <span class="c-header-nav-toggle-icon"></span>
    </button>
    <div class="c-header-nav-wrapper" id="nav-wrapper">
      <nav class="c-header-nav">
        <a href="/">Home</a>
        <a href="/categories/">Category</a>
        <a href="/tags/">Tag</a>
        <a href="/archives/">Archive</a>
        <a href="/about/">About</a>
        <a href="https://resume.github.io/?looogos" target="_blank">R&eacute;sum&eacute;</a>
      </nav>
    </div>
  </div>
  



<div class="o-container">
  <div class="c-banner">
    <img src="/assets/images/galaxy.svg" alt="Galaxy background" class="c-banner-bg">
    <div class="c-banner-quote">
      <p>"The Renaissance was a time when art, science, and philosophy flourished."</p>
      <cite>- Michelangelo</cite>
    </div>
  </div>
</div>
</header>

    <main class="o-container">
      <article class="c-post">
  <header class="c-post-header">
    <h1 class="c-post-title">DHCP Options in VMware</h1><p class="c-post-meta">06 Mar 2023</p>
  </header>

  <div class="c-post-content">
    <div id="preamble">
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit <em>vmnetdhcp.conf</em> at <em>%ProgramData%\VMware\vmnetdhcp.conf</em></p>
<div class="paragraph">
<p>The following is a sample which was reconfigured the DHCP subnet from <code>192.168.227.0/24</code> to <code>192.168.91.0/24</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="txt">#
# Configuration file for VMware port of ISC 2.0 release running on
# Windows.
#
# This file is generated by the VMware installation procedure; it
# is edited each time you add or delete a VMware host-only network
# adapter.
#
# We set domain-name-servers to make some clients happy
# (dhclient as configued in SuSE, TurboLinux, etc.).
# We also supply a domain name to make pump (Red Hat 6.x) happy.
#
allow unknown-clients;
default-lease-time 1800;                # default is 30 minutes
max-lease-time 7200;                    # default is 2 hours

# Virtual ethernet segment 1
# Added at 03/06/23 10:26:32
subnet 192.168.211.0 netmask 255.255.255.0 {
range 192.168.211.128 192.168.211.254;            # default allows up to 125 VM's
option broadcast-address 192.168.211.255;
option domain-name-servers 192.168.211.1;
option domain-name "localdomain";
default-lease-time 1800;
max-lease-time 7200;
}
host VMnet1 {
    hardware ethernet 00:50:56:C0:00:01;
    fixed-address 192.168.211.1;
    option domain-name-servers 0.0.0.0;
    option domain-name "";
}
# End

<span class="hll"># Virtual ethernet segment 8
</span><span class="hll"># Added at 03/06/23 10:26:32
</span><span class="hll">subnet 192.168.91.0 netmask 255.255.255.0 {
</span><span class="hll">range 192.168.91.128 192.168.91.254;            # default allows up to 125 VM's
</span><span class="hll">option broadcast-address 192.168.91.255;
</span><span class="hll">option domain-name-servers 192.168.91.2;
</span><span class="hll">option domain-name "localdomain";
</span><span class="hll">option netbios-name-servers 192.168.91.2;
</span><span class="hll">option routers 192.168.91.2;
</span><span class="hll">default-lease-time 1800;
</span><span class="hll">max-lease-time 7200;
</span><span class="hll">}
</span><span class="hll">host VMnet8 {
</span><span class="hll">    hardware ethernet 00:50:56:C0:00:08;
</span><span class="hll">    fixed-address 192.168.91.1;
</span><span class="hll">    option domain-name-servers 0.0.0.0;
</span><span class="hll">    option domain-name "";
</span><span class="hll">    option routers 0.0.0.0;
</span><span class="hll">}
</span># End</code></pre>
</div>
</div>
</li>
<li>
<p>Edit <em>vmnetnat.conf</em> at <em>%ProgramData%\VMware\vmnetnat.conf</em></p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="txt"># Windows NAT configuration file

[host]

# NAT gateway address
<span class="hll">ip = 192.168.91.2/24
</span>hostMAC = 00:50:56:C0:00:08

# enable configuration; disabled by default for security reasons
#configport = 33445

# VMnet device if not specified on command line
device = vmnet8
...</code></pre>
</div>
</div>
</li>
<li>
<p>Edit startup parametes of <em>VMware DHCP Service</em> at  <em>HKLM\System\CurrentControlSet\services\VMnetDHCP\Parameters\VirtualEthernetSegments\8\HostIpAddress</em>.</p>
<div class="paragraph">
<p>Please note that address has reverse HEX notation. e.g. <a href="#1">[1]</a></p>
</div>
<div class="paragraph">
<p>192.168.1.1 is reversed to 1.1.168.192 and key value is 0101A8C0</p>
</div>
<div class="paragraph">
<p>According to the above sample, we should update this value to <code>15ba8c0</code>, which is <code>192.168.91.1</code>.</p>
</div>
</li>
<li>
<p>Now, we need to restart the both the <em>VMware DHCP Service</em> and <em>VMware NAT Service</em> using Windows Services Manager.</p>
</li>
</ol>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#references">References</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="references">References</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="VMNOSUBNET"></a>[1]  <a href="http://randronov.blogspot.com/2015/10/vmware-error-vmnetdhcp-no-subnet.html" class="bare">http://randronov.blogspot.com/2015/10/vmware-error-vmnetdhcp-no-subnet.html</a></p>
</li>
<li>
<p><a id="commandlineguide2vnets"></a>[2] <a href="https://sanbarrow.com/network/commandlineguide2vnets.html" class="bare">https://sanbarrow.com/network/commandlineguide2vnets.html</a></p>
</li>
</ul>
</div>
</div>
</div>
<style>
  .utterances {
      max-width: 100%;
  }
</style>
<script src="https://utteranc.es/client.js"
        repo="looogos/utterances"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

</div>
</article>
    </main>
    <footer class="c-footer">
  <div class="c-footer-license">
    <span>Article licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></span>
  </div>
  
  <details class="c-footer-extralinks" open>
    <summary class="c-footer-extralinks-summary">Extral Links</summary>
    <div class="c-footer-extralinks-content">
      
      <a href="https://jekyllrb.com/">Jekyll</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://shopify.github.io/liquid/">Liquid</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://docs.asciidoctor.org/">Asciidoctor</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://github.com/qqbuby/">GitHub</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="/feed.xml">RSS</a>
      
      
    </div>
  </details>
  
</footer>

    <script src="/assets/js/nav.js" defer></script>
    <script src="/assets/js/heading-anchors.js" defer></script>
    <!-- https://cdn.jsdelivr.net/gh/lurongkai/anti-baidu/js/anti-baidu-latest.min.js -->    
    <script type="text/javascript" src="/js/anti-baidu.min.js" charset="UTF-8"></script>
  </body>
</html>
